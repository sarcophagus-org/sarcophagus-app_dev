(this["webpackJsonpsarco-webapp"]=this["webpackJsonpsarco-webapp"]||[]).push([[0],{104:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return x})),n.d(t,"a",(function(){return y}));var r,a=n(14),s=n(1),i=n.n(s),c=n(12),o=n(3),u=n(28),l=n(158),d=n(395),p=n.n(d),b=n(424),m=n(105),h=n(22),f=new p.a({providerOptions:{walletconnect:{package:b.a,options:{infuraId:""}}},cacheProvider:!0}),j={connected:!1,provided:!1,providerName:"not connected"},v=function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="31337",!e.t0){e.next=7;break}return e.next=4,t.getNetwork();case 4:e.t1=e.sent.chainId,e.t2=parseInt("31337",10),e.t0=e.t1===e.t2;case 7:if(!e.t0){e.next=12;break}e.t3="localhost",e.next=15;break;case 12:return e.next=14,t.getNetwork();case 14:e.t3=e.sent.name;case 15:return e.t4=e.t3,e.next=18,t.getSigner().getAddress();case 18:return e.t5=e.sent,e.next=21,t.getNetwork();case 21:return e.t6=e.sent.chainId,e.t7=t,e.t8=t.getSigner(),n={connected:!0,provided:!0,providerName:"injected provider",networkName:e.t4,account:e.t5,chainId:e.t6,provider:e.t7,signerOrProvider:e.t8},r=t.provider,e.abrupt("return",n);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){return new Promise((function(t,n){e.connect().then((function(e){return v(new u.a.providers.Web3Provider(e))})).then(t).catch(n)}))},x=function(){var e=Object(o.useState)(j),t=Object(a.a)(e,2),n=t[0],s=t[1],i=function(e,t){var n=Object(o.useState)(null),r=Object(a.a)(n,2),s=r[0],i=r[1];return Object(o.useEffect)((function(){return t.on("connect",(function(e){if(Object(m.a)().includes(parseInt(e.chainId))){var n=new u.a.providers.Web3Provider(e);i(n),h.b.dark("Connected",{toastId:"connected"})}else h.b.dark("Switch to a supported network: ".concat(Object(m.a)().join(", ")),{toastId:"switchNetwork"}),t.clearCachedProvider(),i(null)})),function(){t.off("connect")}}),[t]),Object(o.useEffect)((function(){if(e)return e.on("chainChanged",(function(n){if(Object(m.a)().includes(parseInt(n))){h.b.dark("Network changed",{toastId:"switchNetwork"});var r=new u.a.providers.Web3Provider(e);i(r)}else h.b.dark("Switch to a supported network: ".concat(Object(m.a)().join(", ")),{toastId:"switchNetwork"}),t.clearCachedProvider(),i(null)})),e.on("accountsChanged",(function(e){0===e.length?(h.b.dark("Account disconnected",{toastId:"disconnected"}),t.clearCachedProvider(),i(null)):(h.b.dark("Account changed",{toastId:"connected"}),t.connect())})),e.on("disconnect",(function(){h.b.dark("Account disconnected",{toastId:"disconnected"}),t.clearCachedProvider(),i(null)})),function(){e.removeAllListeners()}}),[e,t]),s}(r,f);return Object(o.useEffect)((function(){i?v(i).then(s).catch(console.error):s(j)}),[i]),Object(o.useEffect)((function(){n.connected||(!f.cachedProvider||n.provider?(n.provider&&n.provider.getNetwork().then((function(e){Object(m.a)().includes(e.chainId)&&g(f).then(s).catch(console.error)})).catch(console.error),s(function(){var e={infura:"800746c8737e4f34bb772ade4532ab83",alchemy:"bjrgvDbGZBUJ_iZFFd1vIqUWzgrwKWeg",etherscan:"G61W8715WK65NCMJPFXU8EBQ5VDTT4KCVJ"},t=u.a.providers.getNetwork(parseInt("3",10)),n=Object(l.getDefaultProvider)(t,e);return{connected:!0,provided:!1,providerName:"fallback provider",networkName:n.network.name,account:"",chainId:n.network.chainId,provider:n,signerOrProvider:n}}())):g(f).then(s).catch(console.error))}),[n.connected,n.provider]),n},y=function(){f.connect().catch(console.error)}},105:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n(14),a=n(44),s=n(3),i=function(){return[].concat([],Object(a.a)("3,4".split(",").map((function(e){return parseInt(e,10)}))))},c=function(e){var t=Object(s.useState)({}),n=Object(r.a)(t,2),a=n[0],i=n[1];return Object(s.useEffect)((function(){if(e){if(e===parseInt("31337",10))return console.error("No local addresses have been set!"),void i({});var t=JSON.parse('{"3":"","4":"":""}')[e];if(!t)return console.error("Address for network ".concat(e," is not set!")),void i({});i({moduleMap:t})}}),[e]),a}},11:function(e,t,n){"use strict";var r,a,s;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),function(e){e.Accused="Sarcophagus accused successfully",e.Buried="Sarcophagus buried",e.Canceled="Sarcophagus cancelled",e.Cleaned="Sarcophagus cleaned",e.Created="Sarcophagus creation in progress, resurrection unavailable",e.Default="Checking status...",e.Unwrapped="Sarcophagus unwrapped, resurrection available",e.Unwrapping="Unwrapping in progress",e.ArchivedUnwrapped="resurrection available",e.Archived="Archived",e.Active="Sarcophagus is Active",e.ArweaveMining="File is being mined on arweave",e.ArweaveUploading="File is being uploaded",e.Mining="Mining in progress",e.Signing="Signing needed",e.Error="Sarcophagus Error",e.WindowClosed="Resurrection Window is past",e.PublicKeyUsed="Public key already used",e.ArweaveMiningError="There was an error validating the arweave file"}(r||(r={})),function(e){e[e.Active=0]="Active",e[e.Close=1]="Close",e[e.Unwrapping=2]="Unwrapping",e[e.Off=3]="Off",e[e.Calculating=4]="Calculating"}(a||(a={})),function(e){e.Sending="File Sending",e.Failed="There was a error sending file",e.Mining="File is Mining",e.Success="File has been mined"}(s||(s={}))},191:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14),a=n(3),s=n(22),i=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1];return{contractCall:Object(a.useCallback)((function(e,t,n,a,c,o,u,l){var d;i(!0),e().then((function(e){d=s.b.dark(t,{autoClose:!1,closeOnClick:!1,draggable:!1,closeButton:!1});return n(),Promise.all([new Promise((function(e){return setTimeout((function(){return e(null)}),0)})).then((function(){return e.wait()})),d])})).then((function(e){var t=Object(r.a)(e,2),n=t[0],d=t[1];setTimeout((function(){i(!1)}),5e3),s.b.dismiss(d),0===n.status?(s.b.error(a),o&&o()):1===n.status?(s.b.dark(c),u&&u(n)):(s.b.error("Not sure what happened with that transaction"),o&&o()),l&&l()})).catch((function(e){console.error(e),i(!1),s.b.dismiss(d),4001!==e.code&&s.b.error("There was an error! Check your browser's console logs for more details."),o&&o()}))}),[]),pending:n}}},192:function(e,t,n){"use strict";(function(e){var r=n(16),a=n(1),s=n.n(a),i=n(12),c=n(14),o=n(3),u=n(49),l=n(28),d=n(84);t.a=function(t,n){var a=Object(d.b)().sarcophagusContract,p=Object(o.useState)([]),b=Object(c.a)(p,2),m=b[0],h=b[1],f=Object(u.b)().account,j=Object(o.useState)(!1),v=Object(c.a)(j,2),g=v[0],x=v[1],y=t||f,O=Object(o.useCallback)(Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",l.a.BigNumber.from(0));case 2:return e.next=4,a.recipientSarcophagusCount(y);case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),[a,y]),w=Object(o.useCallback)(function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Array(null===t||void 0===t?void 0:t.toNumber()).fill(void 0),r=function(){var e=Object(i.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.recipientSarcophagusIdentifier(y,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.next=4,Promise.all(n.map(r));case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,y]),S=Object(o.useCallback)(function(){var t=Object(i.a)(s.a.mark((function t(n){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.map(function(){var t=Object(i.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r.a,t.t1=r.a,t.t2={},t.next=5,null===a||void 0===a?void 0:a.sarcophagus(e.from(l.a.utils.arrayify(n)));case 5:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.t5={},t.t6={AssetDoubleHash:n},t.abrupt("return",(0,t.t0)(t.t4,t.t5,t.t6));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[a]),T=Object(o.useCallback)(Object(i.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:if(!(t=e.sent).isZero()){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,w(t);case 8:return n=e.sent,e.next=11,S(n);case 11:if((r=e.sent).length){e.next=14;break}return e.abrupt("return");case 14:h(r),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Recipient, Sarcophagus load error:",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])}))),[O,w,S]);return Object(o.useEffect)((function(){n&&!t||(x(!1),T().finally((function(){x(!0)})))}),[T,n,t]),{allRecipientSarcophagi:m,isRecipientSarcophagiLoaded:g,loadRecipientSarcophagi:T}}}).call(this,n(20).Buffer)},196:function(e,t,n){"use strict";var r=n(63),a=n(69),s=n(54),i=n(0);t.a=function(e){var t=e.values,n=e.errors,c=e.isVisible,o=e.handleChange;return c?Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"flex items-center my-4",children:[Object(i.jsx)("div",{className:r.a.PageHeading,children:"Recipient's Private Key"}),Object(i.jsx)(s.a,{content:"The private key of the receiver of this Sarcophagus"})]}),Object(i.jsx)(a.a,{isVisible:!!n.recipientPrivateKey,text:n.recipientPrivateKey,addClasses:"py-2"}),Object(i.jsx)("textarea",{name:"recipientPrivateKey",className:"w-full p-4 my-4 bg-black text-white text-md focus:outline-none border border-gray-500",value:t.recipientPrivateKey,style:{height:"7.75rem"},onChange:o,placeholder:"0x........00000"})]}):null}},197:function(e,t,n){"use strict";var r=n(60),a=n.n(r),s=n(77),i=n(69),c=n(54),o=n(0),u=function(e){var t=e.value,n=e.error,r=e.name,a=e.title,s=e.toolTipContent,u=e.handleChange;return Object(o.jsxs)("div",{className:"flex flex-col mr-8 w-27.5",children:[Object(o.jsxs)("div",{className:"flex flex-col whitespace-nowrap mb-2",children:[Object(o.jsxs)("div",{className:"flex items-center",children:[Object(o.jsx)("span",{className:"mr-2 text-gray-400 text-sm whitespace-nowrap",style:{lineHeight:"1.375rem"},children:a}),Object(o.jsx)(c.a,{content:s})]}),Object(o.jsx)(i.a,{isVisible:!!n,text:n,addClasses:"py-2"})]}),Object(o.jsx)("input",{type:"text",height:"lg",className:"input-placeholder pl-4 text-md bg-black font-normal text-white border remove-input-steps focus:outline-none border-gray-500 py-1",placeholder:"100",name:r,value:t||"",onChange:u})]})},l=function(e){return e.isVisible?Object(o.jsx)("div",{className:"text-2xs px-8 text-gray-400 order-first md:order-last md:pt-4",children:"Archaeologists are sorted by their minimum fees. After you select one, that minimum fee will be set with the option to increase."}):null};t.a=function(e){var t=e.addClasses,n=e.values,r=e.errors,i=e.handleChange,c=e.isDescriptionShown;return Object(o.jsx)("div",{className:a()(s.a.FeesForm,t),children:Object(o.jsxs)("div",{className:"flex justify-center flex-wrap sm:flex-nowrap gap-8",children:[Object(o.jsx)(u,{error:null===r||void 0===r?void 0:r.bounty,value:n.bounty,title:"Bounty \u2739",name:"bounty",handleChange:i,toolTipContent:"Max Bounty. Paid to the Archaeologist for a successful resurrection (keep default unless adv user)"}),Object(o.jsx)(u,{error:null===r||void 0===r?void 0:r.diggingFee,value:n.diggingFee,title:"Digging Fees \u2739",name:"diggingFee",handleChange:i,toolTipContent:"Max Digging Fees. Paid to the archaeologist after re-wrap (keep default unless adv user)"}),Object(o.jsx)(l,{isVisible:c})]})})}},198:function(e,t,n){"use strict";var r=n(1),a=n.n(r),s=n(12),i=n(14),c=n(35),o=n(3),u=n(22),l=n(84),d=n(191);t.a=function(){var e=Object(l.b)(),t=e.allowance,n=e.sarcophagusContract,r=e.sarcophagusTokenContract,p=Object(d.a)().contractCall,b=Object(o.useState)(!1),m=Object(i.a)(b,2),h=m[0],f=m[1],j=Object(o.useCallback)(Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p((function(){return r.approve(null===n||void 0===n?void 0:n.address,c.a.from(2).pow(c.a.from(256)).sub(c.a.from(1)))}),"Approving SARCO...",(function(){return null}),"SARCO approval failed!","SARCO approval made!",void 0,(function(e){var t=e.transactionHash;u.b.success("SARCO approval made!"),console.info("Approval TX HASH",t),f(!0)}));case 2:case"end":return e.stop()}}),e)}))),[null===n||void 0===n?void 0:n.address,r,p]);return Object(o.useEffect)((function(){f(!t.isZero())}),[t]),{approved:h,approveTransaction:j}}},203:function(e,t,n){"use strict";t.a=n.p+"static/media/eyeOfHorus2.67cd749c.svg"},205:function(e,t,n){"use strict";var r=n(16),a=n(62),s=n(54),i=n(46),c=n(3),o=n.n(c),u=n(417),l=n.n(u),d=n(23),p=n(0),b=o.a.forwardRef((function(e,t){var n=e.value,r=e.onClick;return Object(p.jsx)(p.Fragment,{children:n?Object(p.jsx)("span",{ref:t,onClick:r,className:"w-full border border-gray-500 bg-black flex justify-center items-center focus:outline-none",children:n}):Object(p.jsx)("button",{ref:t,type:"button",onClick:r,className:"w-full border border-gray-500 bg-black flex justify-center items-center focus:outline-none",style:{height:"1.88rem"},children:"Choose Resurrection Time"})})})),m=function(e){return Object(p.jsx)("div",{className:"date-picker-width ml-2",children:Object(p.jsx)(l.a,Object(r.a)(Object(r.a)({},e),{},{popperClassName:"-mr-10"}))})},h=function(e){var t=e.values,n=e.setFieldValue,r=t.customTime,a=new Date;return a.setDate((new Date).getDate()+1),Object(p.jsx)(m,{customInput:Object(p.jsx)(b,{}),selected:r?Object(i.i)(r):a,value:r?Object(i.i)(r).toLocaleString():"",title:r?Object(i.i)(r).toLocaleString():a.toLocaleString(),onChange:function(e){n("custom",!0),n("customTime",Object(d.c)(e)),n("resurrectionTime",Object(d.c)(e)),n("timeSelect","custom")},dateFormat:"MM/dd/yyyy hh:mm",minDate:a,showTimeSelect:!0})},f=n(92),j=["name","children"],v=function(e){var t=e.name,n=e.children,s=Object(a.a)(e,j);return Object(p.jsxs)("div",{className:"text-sm",style:{lineHeight:"2.125rem"},children:[Object(p.jsx)("input",Object(r.a)(Object(r.a)({name:t},s),{},{type:"radio"})),Object(p.jsx)("label",{htmlFor:t,children:n})]})};t.a=function(e){var t=e.values,n=e.handleChange,r=e.setFieldValue,a=Object(d.e)(7),c=Object(d.e)(30),o=Object(d.e)(90);return Object(p.jsx)("div",{className:"flex gap-8 mb-8",children:Object(p.jsx)("div",{className:"border border-gray-500 px-8 py-4 w-112",style:{height:"15.25rem"},children:Object(p.jsxs)("div",{className:"flex flex-col justify-around h-full text-gray-400 radio-styles",children:[Object(p.jsxs)("div",{className:"flex items-center whitespace-nowrap",children:[Object(p.jsxs)("span",{className:"mr-2 text-gray-400 text-sm",style:{lineHeight:"1.375rem"},children:["Resurrection: ",Object(i.b)(t.resurrectionTime)]}),Object(p.jsx)(s.a,{content:"Time currently set for resurrection"})]}),Object(p.jsx)(v,{type:"radio",name:"timeSelect-week",id:"timeSelect-week",onChange:n,onClick:function(){r("timeSelect",f.a.Week),r("resurrectionTime",a),r("custom",!1)},checked:t.timeSelect===f.a.Week,value:a,children:"1 week"}),Object(p.jsx)(v,{type:"radio",name:"timeSelect-month",id:"timeSelect-month",onChange:n,onClick:function(){r("timeSelect",f.a.Month),r("resurrectionTime",c),r("custom",!1)},checked:t.timeSelect===f.a.Month,value:c,children:"1 month"}),Object(p.jsx)(v,{type:"radio",name:"timeSelect-three-months",id:"timeSelect-three-months",onChange:n,onClick:function(){r("timeSelect",f.a.ThreeMonths),r("resurrectionTime",o),r("custom",!1)},checked:t.timeSelect===f.a.ThreeMonths,value:o,children:"3 months"}),Object(p.jsx)(v,{type:"radio",name:"timeSelect-custom",id:"timeSelect-custom",onChange:n,onClick:function(){t.customTime&&(r("timeSelect",f.a.Custom),r("resurrectionTime",t.customTime),r("custom",!0))},checked:t.timeSelect===f.a.Custom,value:Object(i.b)(t.resurrectionTime),children:Object(p.jsx)(h,{values:t,setFieldValue:r})})]})})})}},23:function(e,t,n){"use strict";(function(e){n.d(t,"m",(function(){return o})),n.d(t,"j",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"l",(function(){return p})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"i",(function(){return f})),n.d(t,"d",(function(){return j})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"k",(function(){return x}));var r=n(44),a=n(70),s=n(35),i=n(388),c=n.n(i),o=function(e,t,n,r){if(e.length<=t)return e;var a=t-(n=n||"...").length,s=Math.ceil(r||a/2+1),i=Math.floor(a/2-1);return e.substr(0,s)+n+e.substr(e.length-i)},u=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=a.utils.arrayify(t);if(n){var i=new Uint8Array([4]);return e.from(new Uint8Array([].concat(Object(r.a)(i),Object(r.a)(s))))}return e.from(s)},l=function(e){var t=new Date;return t.setDate(t.getDate()+e),d(t)},d=function(e){return Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())},p=function(e,t){return c()(a.utils.formatUnits(e,t))},b=function(e,t){return p(e,t).value()},m=function(e,t,n){var r,a;return n?null===(r=p(e,t))||void 0===r||null===(a=r.value)||void 0===a?void 0:a.call(r):p(e,t).input()},h=function(e,t,n){var r=e.feePerByte,a=e.minimumBounty,s=e.minimumDiggingFee;if(!r||!a||!s)return"";if(!(null===t||void 0===t?void 0:t.size))return"";var i=r.mul(t.size+452).add(a).add(s),c=m(i,18);return n?i:c},f=function(e,t,n){var r=e.feePerByte;if(!r)return"";if(!(null===t||void 0===t?void 0:t.size))return"";var a=r.mul(t.size+452),s=m(a,18);return n?a:s},j=function(e,t){if(null===e||void 0===e?void 0:e.isZero())return"0 %";var n=parseFloat(a.utils.formatEther(e)),r=parseFloat(a.utils.formatEther(t.add(e)));return"".concat((n/r*100).toFixed(9)," %")},v=function(e){var t=p(e,0).value(),n=new Date(1e3*(t||0)),r=n.getTimezoneOffset();return n.setMinutes(n.getMinutes()+r),"".concat(n.toLocaleDateString()," ").concat(n.toLocaleTimeString())},g=function(e,t,n,r){var a=e.add(t),i=2===r&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==n,c=1===r&&a.gte(s.a.from(Number(Date.now().valueOf()/1e3).toFixed(0)));return{isUnwrapped:i,isActive:c,isVisible:i||c}},x=function(e,t){return e-t/1e3>=0}}).call(this,n(20).Buffer)},394:function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),s=n(12),i=n(16),c=n(14),o=n(3),u=n(22),l=n(191),d=n(84),p=n(11);t.a=function(){var t=Object(l.a)().contractCall,n=Object(d.b)().sarcophagusContract,r=Object(o.useState)(null),b=Object(c.a)(r,2),m=b[0],h=b[1],f=Object(o.useState)([]),j=Object(c.a)(f,2),v=j[0],g=j[1];return{createSarcophagus:function(e,r,a,s,c,o,l,d,b,m,f){try{if(!n)return;t((function(){return n.createSarcophagus(e,r.address,a,s,c,o,l,d)}),p.a.Mining,(function(){f();var t={assetDoubleHash:l,name:e,doubleEncryptedFile:b,endpoint:r.endpoint};h(t),g([t])}),"Transaction failed...","Transaction successful",void 0,(function(e){var t=e.transactionHash;h((function(e){return Object(i.a)(Object(i.a)({},e),{},{txReceipt:t})})),g([]),console.info("CREATE TX HASH",t),m()}))}catch(y){var j;if(4001===(null===y||void 0===y?void 0:y.code))u.b.error("Transaction Rejected");else if(-32603===(null===y||void 0===y||null===(j=y.error)||void 0===j?void 0:j.code)){var v,x;"execution reverted: revert resurrection time must be in the future"===(null===y||void 0===y||null===(v=y.error)||void 0===v?void 0:v.message)&&u.b.error("Resurrection time must be in the future"),"execution reverted: ERC20: transfer amount exceeds balance"===(null===y||void 0===y||null===(x=y.error)||void 0===x?void 0:x.message)&&u.b.error("Sarco balance too low to execute transaction")}else u.b.error("There was a problem creating sarcophagus"),console.error("There was a problem creating sarcophagus:",y)}},updateSarcophagus:function(){var r=Object(s.a)(a.a.mark((function r(i,c){var o,l,d,b,f,j,v,g,x,y;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n&&m){r.next=3;break}return r.abrupt("return");case 3:o=m.newPublicKey,l=m.assetDoubleHash,d=m.assetId,b=m.V,f=m.R,j=m.S,v=e.from(o||"","base64"),g=function(){i(p.a.Mining)},x=function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.transactionHash,console.info("UPDATE TX HASH",n),i(p.a.Active),h(null),c();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t((function(){return n.updateSarcophagus(v,l,d,b,f,j)}),p.a.Mining,g,"Transaction failed...","Transaction successful",void 0,x),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),4001===(null===r.t0||void 0===r.t0?void 0:r.t0.code)?u.b.error("Transaction Rejected"):"execution reverted: public key already used"===(null===r.t0||void 0===r.t0||null===(y=r.t0.error)||void 0===y?void 0:y.message)?(u.b.error("Public key already used"),i(p.a.PublicKeyUsed)):(u.b.error("There was a problem updating sarcophagus"),console.error("There was a problem updating sarcophagus",r.t0));case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e,t){return r.apply(this,arguments)}}(),cancelSarcophagus:function(e,r,a){try{if(!n)return;t((function(){return n.cancelSarcophagus(e)}),p.a.Mining,(function(){r(p.a.Mining)}),"Transaction failed...","Transaction successful",void 0,a)}catch(s){4001===(null===s||void 0===s?void 0:s.code)?u.b.error("Transaction Rejected"):(u.b.error("There was a problem canceling sarcophagus"),console.error("There was a problem canceling sarcophagus",s))}return!1},cleanSarcophagus:function(e,r,a,s){try{if(!n)return;t((function(){return n.cleanUpSarcophagus(e,r)}),p.a.Mining,(function(){a(p.a.Mining)}),"Transaction failed...","Transaction successful",void 0,(function(e){var t=e.transactionHash;console.info("CLEAN TX HASH",t),s()}))}catch(i){4001===(null===i||void 0===i?void 0:i.code)?u.b.error("Transaction Rejected"):(u.b.error("There was a problem cleaning sarcophagus"),console.error("There was a problem cleaning sarcophagus",i))}},burySarcophagus:function(e,r,a){try{if(!n)return;t((function(){return n.burySarcophagus(e)}),p.a.Mining,(function(){r(p.a.Mining)}),"Transaction failed...","Transaction successful",void 0,(function(e){var t=e.transactionHash;console.info("BURY TX HASH",t),a()}))}catch(s){4001===(null===s||void 0===s?void 0:s.code)?u.b.error("Transaction Rejected"):(u.b.error("There was a problem buring sarcophagus"),console.error("There was a problem buring sarcophagus",s))}},rewrapSarcophagus:function(e,r,a,s,i,c){try{if(!n)return;t((function(){return n.rewrapSarcophagus(e,r,a,s)}),p.a.Mining,(function(){i(p.a.Mining)}),"Transaction failed...","Transaction successful",void 0,(function(e){var t=e.transactionHash;console.info("REWRAP TX HASH",t),c()}))}catch(b){var o;if(4001===(null===b||void 0===b?void 0:b.code))u.b.error("Transaction Rejected");else if(-32603===(null===b||void 0===b||null===(o=b.error)||void 0===o?void 0:o.code)){var l,d;"execution reverted: revert resurrection time must be in the future"===(null===b||void 0===b||null===(l=b.error)||void 0===l?void 0:l.message)&&u.b.error("Resurrection time must be in the future"),"execution reverted: ERC20: transfer amount exceeds balance"===(null===b||void 0===b||null===(d=b.error)||void 0===d?void 0:d.message)&&u.b.error("Sarco balance too low to execute transaction")}else u.b.error("There was a problem rewrapping sarcophagus"),console.error("There was a problem rewrapping sarcophagus",b)}},accuseArchaeologist:function(e,r,a,s){try{if(!n)return;t((function(){return n.accuseArchaeologist(e,r,a)}),"Checking accusal",(function(){u.b.dark("Checking accusal",{toastId:"accusalPending"})}),"The accusal was unsuccessful","The accusal was successful",void 0,s)}catch(i){4001===(null===i||void 0===i?void 0:i.code)?u.b.error("Transaction Rejected"):console.error("Accused Unsuccessful: ",i)}},createdSarcophagusData:m,setCreatedSarcophagusData:h,pendingSarcophagi:v}}}).call(this,n(20).Buffer)},405:function(e){e.exports=JSON.parse('[{"inputs":[],"name":"sarcoToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"_sarcoToken","type":"address"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"archaeologistCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistAddresses","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"archaeologists","outputs":[{"components":[{"internalType":"bool","name":"exists","type":"bool"},{"internalType":"bytes","name":"currentPublicKey","type":"bytes"},{"internalType":"string","name":"endpoint","type":"string"},{"internalType":"address","name":"paymentAddress","type":"address"},{"internalType":"uint256","name":"feePerByte","type":"uint256"},{"internalType":"uint256","name":"minimumBounty","type":"uint256"},{"internalType":"uint256","name":"minimumDiggingFee","type":"uint256"},{"internalType":"uint256","name":"maximumResurrectionTime","type":"uint256"},{"internalType":"uint256","name":"freeBond","type":"uint256"},{"internalType":"uint256","name":"cursedBond","type":"uint256"}],"internalType":"struct Types.Archaeologist","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"sarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"sarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"embalmer","type":"address"}],"name":"embalmerSarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"embalmer","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"embalmerSarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistSarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistSarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"recipient","type":"address"}],"name":"recipientSarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"recipientSarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistSuccessesCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistSuccessesIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistCancelsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistCancelsIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistAccusalsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistAccusalsIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistCleanupsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistCleanupsIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"}],"name":"sarcophagus","outputs":[{"components":[{"internalType":"enum Types.SarcophagusStates","name":"state","type":"uint8"},{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"bytes","name":"archaeologistPublicKey","type":"bytes"},{"internalType":"address","name":"embalmer","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"resurrectionTime","type":"uint256"},{"internalType":"uint256","name":"resurrectionWindow","type":"uint256"},{"internalType":"string","name":"assetId","type":"string"},{"internalType":"bytes","name":"recipientPublicKey","type":"bytes"},{"internalType":"uint256","name":"storageFee","type":"uint256"},{"internalType":"uint256","name":"diggingFee","type":"uint256"},{"internalType":"uint256","name":"bounty","type":"uint256"},{"internalType":"uint256","name":"currentCursedBond","type":"uint256"},{"internalType":"bytes32","name":"privateKey","type":"bytes32"}],"internalType":"struct Types.Sarcophagus","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"bytes","name":"currentPublicKey","type":"bytes"},{"internalType":"string","name":"endpoint","type":"string"},{"internalType":"address","name":"paymentAddress","type":"address"},{"internalType":"uint256","name":"feePerByte","type":"uint256"},{"internalType":"uint256","name":"minimumBounty","type":"uint256"},{"internalType":"uint256","name":"minimumDiggingFee","type":"uint256"},{"internalType":"uint256","name":"maximumResurrectionTime","type":"uint256"},{"internalType":"uint256","name":"freeBond","type":"uint256"}],"name":"registerArchaeologist","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"endpoint","type":"string"},{"internalType":"bytes","name":"newPublicKey","type":"bytes"},{"internalType":"address","name":"paymentAddress","type":"address"},{"internalType":"uint256","name":"feePerByte","type":"uint256"},{"internalType":"uint256","name":"minimumBounty","type":"uint256"},{"internalType":"uint256","name":"minimumDiggingFee","type":"uint256"},{"internalType":"uint256","name":"maximumResurrectionTime","type":"uint256"},{"internalType":"uint256","name":"freeBond","type":"uint256"}],"name":"updateArchaeologist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawBond","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"resurrectionTime","type":"uint256"},{"internalType":"uint256","name":"storageFee","type":"uint256"},{"internalType":"uint256","name":"diggingFee","type":"uint256"},{"internalType":"uint256","name":"bounty","type":"uint256"},{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"bytes","name":"recipientPublicKey","type":"bytes"}],"name":"createSarcophagus","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"newPublicKey","type":"bytes"},{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"string","name":"assetId","type":"string"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"updateSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"}],"name":"cancelSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"uint256","name":"resurrectionTime","type":"uint256"},{"internalType":"uint256","name":"diggingFee","type":"uint256"},{"internalType":"uint256","name":"bounty","type":"uint256"}],"name":"rewrapSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"bytes32","name":"privateKey","type":"bytes32"}],"name":"unwrapSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"bytes","name":"singleHash","type":"bytes"},{"internalType":"address","name":"paymentAddress","type":"address"}],"name":"accuseArchaeologist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"}],"name":"burySarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"address","name":"paymentAddress","type":"address"}],"name":"cleanUpSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},406:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},407:function(e,t,n){"use strict";(function(e){var r=n(16),a=n(1),s=n.n(a),i=n(12),c=n(14),o=n(28),u=n(3),l=n(49),d=n(84);t.a=function(){var t=Object(l.b)().account,n=Object(d.b)().sarcophagusContract,a=Object(u.useState)([]),p=Object(c.a)(a,2),b=p[0],m=p[1],h=Object(u.useState)(!1),f=Object(c.a)(h,2),j=f[0],v=f[1],g=Object(u.useCallback)(function(){var e=Object(i.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",o.a.BigNumber.from(0));case 2:return e.next=4,n.embalmerSarcophagusCount(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),x=Object(u.useCallback)(function(){var e=Object(i.a)(s.a.mark((function e(t,r){var a,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",[]);case 2:return a=new Array(r.toNumber()).fill(void 0),c=function(){var e=Object(i.a)(s.a.mark((function e(r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.embalmerSarcophagusIdentifier(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.next=6,Promise.all(a.map(c));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),y=Object(u.useCallback)(function(){var t=Object(i.a)(s.a.mark((function t(a){var c,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",[]);case 2:return c=function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r.a,t.t1=r.a,t.t2={},t.next=5,n.sarcophagus(e.from(o.a.utils.arrayify(a)));case 5:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.t5={},t.t6={AssetDoubleHash:a},t.abrupt("return",(0,t.t0)(t.t4,t.t5,t.t6));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.next=5,Promise.all(a.map(c));case 5:return u=t.sent,t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[n]),O=Object(u.useCallback)(Object(i.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(t);case 3:if(!(n=e.sent).isZero()){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,x(t,n);case 8:return r=e.sent,e.next=11,y(r);case 11:if((a=e.sent).length){e.next=14;break}return e.abrupt("return");case 14:m(a),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Embalmer, Sarcophagus error:",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])}))),[g,x,y,t]);return Object(u.useEffect)((function(){v(!1),O().finally((function(){v(!0)}))}),[O]),{allEmbalmerSarcophagi:b,isEmbalmerSarcophagiLoaded:j,loadEmbalmerSarcophagi:O}}}).call(this,n(20).Buffer)},409:function(e,t,n){"use strict";(function(e){var r=n(28),a=n(52),s=n(71),i=n(54),c=n(410),o=n(416),u=n(83),l=n(11),d=n(0),p=function(e){var t=e.text,n=e.tooltipContent,r=e.action,a=e.signButton;return Object(d.jsxs)("div",{className:"flex flex-col items-center justify-center h-full gap-8",style:{height:"12.0625rem"},children:[a&&a,Object(d.jsxs)("div",{className:"whitespace-nowrap flex underline cursor-pointer",onClick:r,children:[Object(d.jsx)("span",{className:"mr-2",children:t}),Object(d.jsx)(i.a,{content:n})]})]})};t.a=function(t){var n=t.sarcophagus,i=t.status,b=t.setStatus,m=t.toggleExpansion,h=t.isExpanded,f=t.recipientPrivateKey,j=Object(a.b)(),v=Object(u.b)(),g=function(){var t=n.AssetDoubleHash,a=e.from(r.a.utils.arrayify(t));j.cancelSarcophagus(a,b,(function(e){var t=e.transactionHash;console.info("Cancel transaction hash:",t),m(),j.loadSarcophagi(),v.loadArchaeologists()}))};if(!h)return null;switch(i){case l.a.Accused:case l.a.ArweaveMining:case l.a.ArweaveUploading:case l.a.ArchivedUnwrapped:case l.a.Mining:case l.a.Created:case l.a.Buried:case l.a.Canceled:case l.a.Cleaned:case l.a.Default:case l.a.Unwrapping:case l.a.Archived:return null;case l.a.Unwrapped:return Object(d.jsx)(c.a,{sarcophagus:n,recipientPrivateKey:f});case l.a.Active:return Object(d.jsx)(o.a,{sarcophagus:n,setStatus:b,toggleExpansion:m});case l.a.Signing:return Object(d.jsx)(p,{text:"Cancel this sarcophagus",tooltipContent:"Canceling a sarcophagus, transfers the bounty and storage fee back, transfers the digging fee to the archaeologist, and archives sarcophagus.",action:g,signButton:Object(d.jsx)(s.a,{type:"button",onClick:function(){j.updateSarcophagus(b,(function(){m(),j.loadSarcophagi(),v.loadArchaeologists()}))},label:"Sign"})});case l.a.WindowClosed:return Object(d.jsx)(p,{text:"Clean this sarcophagus",tooltipContent:"Cleaning a sarcophagus, rewards embalmer with the cursed bond, and refunds the rest of the payment (bounty and digging fees) back to embalmer and archives sarcophagus.",action:function(){var t=n.AssetDoubleHash,a=n.archaeologist,s=e.from(r.a.utils.arrayify(t));j.cleanSarcophagus(s,a,b,(function(){m(),j.loadSarcophagi(),v.loadArchaeologists()}))}});case l.a.Error:case l.a.PublicKeyUsed:case l.a.ArweaveMiningError:return Object(d.jsx)(p,{text:"Cancel this sarcophagus",tooltipContent:"Canceling a sarcophagus, transfers the bounty and storage fee back, transfers the digging fee to the archaeologist, and archives sarcophagus.",action:g})}}}).call(this,n(20).Buffer)},410:function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),s=n(12),i=n(143),c=n(94),o=n(22),u=n(70),l=n(34),d=n(46),p=n(71),b=n(196),m=n(23),h=n(0),f={recipientPrivateKey:""},j=function(e){if(!e)return l.d().shape({recipientPrivateKey:l.e().test("required","Recipient Private Key is required",(function(e){return!!e})).test("validDataHextString","Please enter a valid private key",(function(e){var t,n;return"0x"!==(null===e||void 0===e||null===(t=e.substr)||void 0===t?void 0:t.call(e,0,2))&&(n="0x"+e),u.utils.isHexString(n||e,32)}))})};t.a=function(t){var n=t.sarcophagus,r=t.recipientPrivateKey,u=function(){var t=Object(s.a)(a.a.mark((function t(s){var c,u,l,p,b,h,f,j,v,g,x,y,O,w;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=Object(d.f)(r||s.recipientPrivateKey),u=n.privateKey,l=Object(d.g)(),t.next=6,l.transactions.getData(n.assetId,{decode:!0});case 6:return p=t.sent,t.next=9,Object(d.a)(l,n.assetId,p);case 9:if(t.sent){t.next=13;break}return o.b.error("There was an error validating file on arweave."),t.abrupt("return");case 13:return t.next=15,Object(i.decrypt)(Object(m.j)(u,!0).slice(1),e.from(p));case 15:return b=t.sent,t.next=18,Object(i.decrypt)(Object(m.j)(c,!0).slice(1),e.from(b));case 18:h=t.sent;try{j=JSON.parse(h.toString()),v=j.type,g=j.data,x=Object.values(g).join(),y=e.from(x),f=new Blob([y],{type:v})}catch(a){f=new Blob([h])}O=window.URL.createObjectURL(f),o.b.dark("Downloading file"),(w=document.createElement("a")).style.display="none",w.href=O,w.download=n.name,document.body.appendChild(w),w.click(),window.URL.revokeObjectURL(O),t.next=35;break;case 31:t.prev=31,t.t0=t.catch(0),console.error("There was an error downloading file:",t.t0),o.b.dark("There was an error downloading file");case 35:case"end":return t.stop()}}),t,null,[[0,31]])})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)(c.a,{initialValues:f,validationSchema:j(!!r),onSubmit:function(e){return u(e)},children:function(e){var t=e.values,n=e.errors,a=e.handleChange,s=e.handleSubmit;return Object(h.jsxs)("form",{onSubmit:s,className:"px-2",children:[Object(h.jsx)(b.a,{isVisible:!r,values:t,errors:n,handleChange:a}),Object(h.jsx)(p.a,{addClasses:"mx-auto mb-4",width:"full",type:"submit",label:"Resurrect File",isDisabled:!r&&!t.recipientPrivateKey})]})}})}}).call(this,n(20).Buffer)},416:function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),s=n(12),i=n(14),c=n(3),o=n(28),u=n(35),l=n(94),d=n(34),p=n(197),b=n(198),m=n(83),h=n(54),f=n(69),j=n(52),v=n(63),g=n(71),x=n(205),y=n(23),O=n(92),w=n(11),S=n(0);t.a=function(t){var n=t.sarcophagus,r=t.toggleExpansion,T=t.setStatus,N=Object(j.b)(),k=Object(m.b)(),C=Object(b.a)(),A=C.approved,P=C.approveTransaction,E=Object(c.useState)(""),M=Object(i.a)(E,2),D=M[0],F=M[1],H=k.filteredArchaeologists.find((function(e){return e.address===n.archaeologist}));Object(c.useEffect)((function(){F(A?"Rewrap Sarcophagus":"Approve")}),[A]);var B=function(){var t=Object(s.a)(a.a.mark((function t(s){var i,c,l,d,p,b,m,h,f;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.AssetDoubleHash,c=s.bounty,l=s.diggingFee,d=s.resurrectionTime,p=e.from(o.a.utils.arrayify(i)),b=u.a.from(Number(d)/1e3),m=o.a.utils.parseEther(l.toString()),h=o.a.utils.parseEther(c.toString()),f=function(){r(),T(w.a.Active),N.loadSarcophagi()},N.rewrapSarcophagus(p,b,m,h,T,f);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=n.AssetDoubleHash,a=e.from(o.a.utils.arrayify(t));N.burySarcophagus(a,T,(function(){N.loadSarcophagi(),r()}))},I={resurrectionTime:Object(y.e)(7),bounty:Object(y.g)((null===H||void 0===H?void 0:H.minimumBounty)||o.a.BigNumber.from(0),18)||0,diggingFee:Object(y.g)((null===H||void 0===H?void 0:H.minimumDiggingFee)||o.a.BigNumber.from(0),18)||0,custom:!1,customTime:"",timeSelect:O.a.Week},U=d.d().shape({resurrectionTime:d.c().required("Resurrection time is required"),bounty:d.c().min(Object(y.g)((null===H||void 0===H?void 0:H.minimumBounty)||o.a.BigNumber.from(0),18)||0,"Bounty is too low").required("Bounty is required"),diggingFee:d.c().min(Object(y.g)((null===H||void 0===H?void 0:H.minimumDiggingFee)||o.a.BigNumber.from(0),18)||0,"Digging Fee is too low").required("Digging Fee is required"),customTime:d.c().when("custom",{is:!0,then:d.c().required("Resurrection time is required")}),custom:d.a()}).nullable();return H?Object(S.jsx)(l.a,{initialValues:I,validationSchema:U,onSubmit:B,validateOnMount:!0,children:function(e){var t=e.values,n=e.errors,r=e.handleChange,a=e.handleSubmit,s=e.setFieldValue,i=e.isValid;return Object(S.jsxs)("form",{onSubmit:a,className:"pb-8 px-10",children:[Object(S.jsxs)("div",{className:"flex items-center my-4",children:[Object(S.jsx)("div",{className:v.a.PageHeading,children:"Fees"}),Object(S.jsx)(h.a,{content:"These fees are based on current minimum fees provided by archaeologist"})]}),Object(S.jsx)(p.a,{values:t,errors:n,handleChange:r,isDescriptionShown:!1}),Object(S.jsxs)("div",{className:"flex pt-8 pb-2 items-center",children:[Object(S.jsx)("div",{className:v.a.PageHeading,children:"Choose new resurrection time"}),Object(S.jsx)(h.a,{content:Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{children:"Choose a resurrection time by selecting an options below"}),Object(S.jsx)("div",{children:"1 Week: 7 days from today"}),Object(S.jsx)("div",{children:"1 month: 30 days from today"}),Object(S.jsx)("div",{children:"3 months: 90 days from today"})]})})]}),Object(S.jsx)(f.a,{isVisible:!!n.resurrectionTime,text:n.resurrectionTime,addClasses:"py-2"}),Object(S.jsx)(x.a,{handleChange:r,setFieldValue:s,values:t,errors:n}),Object(S.jsxs)("div",{className:"flex flex-col justify-center items-center mt-8 mb-12",children:[Object(S.jsx)(g.a,{label:D,isDisabled:!i,type:A?"submit":"button",onClick:A?function(){return null}:function(){!function(e){Object.keys(e).length||P()}(n)}}),Object(S.jsxs)("div",{className:"whitespace-nowrap flex mt-8 underline justify-center items-center",onClick:R,children:[Object(S.jsx)("span",{className:"mr-2 cursor-pointer",children:"Bury sarcophagus"}),Object(S.jsx)(h.a,{content:"Burying a sarcophagus, releases digging fees to archaeologist and archives sarcophagus."})]})]})]})}}):null}}).call(this,n(20).Buffer)},420:function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),s=n(12),i=n(14),c=n(28),o=n(3),u=n(11),l=n(46),d=1500;t.a=function(t,n,r,p){var b=Object(o.useState)(null),m=Object(i.a)(b,2),h=m[0],f=m[1],j=Object(o.useCallback)(function(){var e=Object(s.a)(a.a.mark((function e(t,r){var i,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=50,c=Object(l.g)(),o=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(c,t,r);case 2:if(e.sent){e.next=13;break}if(i){e.next=8;break}return n(null),f(u.b.Failed),e.abrupt("return");case 8:return i-=1,setTimeout((function(){return o()}),500),e.abrupt("return");case 13:return f(u.b.Success),e.abrupt("return");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setTimeout((function(){return o()}),500);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),v=Object(o.useCallback)(function(){var e=Object(s.a)(a.a.mark((function e(r){var i,c,o,p,b,m,h,v,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.doubleEncryptedFile,c=r.NewPublicKey,o=r.AssetDoubleHash,p=r.AssetId,b=r.V,m=r.R,h=r.S,v=5,g=function(){var e=Object(s.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(l.g)(),e.next=4,t.api.get("tx/".concat(p));case 4:r=e.sent,e.t0=r.status,e.next=202===e.t0||304===e.t0?8:200===e.t0?11:16;break;case 8:return console.log("Sarcophagus is still mining"),setTimeout((function(){return g()}),d),e.abrupt("return");case 11:return e.next=13,j(p,i);case 13:return f(u.b.Success),n({newPublicKey:c,assetDoubleHash:o,assetId:p,V:b,R:m,S:h,doubleEncryptedFile:i}),e.abrupt("return");case 16:if(!v){e.next=20;break}return v-=1,setTimeout((function(){return g()}),d),e.abrupt("return");case 20:f(u.b.Failed);case 21:e.next=27;break;case 23:e.prev=23,e.t1=e.catch(0),console.warn("\ud83d\ude80 ~ checkArweaveMiningStatus",e.t1),f(u.b.Failed);case 27:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}(),setTimeout((function(){return g()}),d);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n,j]),g=function(e){var t=[""].reduce.call(e,(function(e,t){return e+String.fromCharCode(t)}),"");return btoa(t)},x=Object(o.useCallback)(Object(s.a)(a.a.mark((function e(){var n,r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.endpoint+"/file",r=g(t.doubleEncryptedFile),e.next=5,fetch(n,{method:"POST",body:JSON.stringify({fileBytes:r})});case 5:return s=e.sent,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[t]),y=Object(o.useCallback)(function(){var e=Object(s.a)(a.a.mark((function e(t){var r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:if((r=e.sent).ok&&!r.error){e.next=11;break}if(406!==r.status||!t){e.next=7;break}return setTimeout((function(){setTimeout((function(){return y(!1)}),8e3)}),5e3),e.abrupt("return");case 7:return f(u.b.Failed),n(null),console.error("ResponseFromArch error",r.error||r),e.abrupt("return");case 11:return e.next=13,r.json();case 13:return s=e.sent,f(u.b.Mining),v(s),e.abrupt("return");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[v,x,n]);return Object(o.useEffect)((function(){var n=(null===t||void 0===t?void 0:t.assetDoubleHash)&&e.from(null===t||void 0===t?void 0:t.assetDoubleHash).equals(e.from(c.a.utils.arrayify(r.AssetDoubleHash)));if(t&&!h&&n)return p(u.a.ArweaveUploading),f(u.b.Sending),void setTimeout((function(){return y(!0)}),8e3)}),[t,r,y,h,p]),{sendStatus:h}}}).call(this,n(20).Buffer)},422:function(e,t,n){"use strict";(function(e){var r=n(34),a=n(94),s=n(203),i=n(52),c=n(63),o=n(54),u=n(69),l=n(71),d=n(70),p=n(0),b=r.d().shape({identifier:r.e(),address:r.e(),singleHash:r.e()}),m={singleHash:"",address:"",identifier:""},h=function(e){var t=e.InputElement,n=e.error,r=e.touched,a=e.title,s=e.tooltipContent;return Object(p.jsxs)("div",{className:"w-128",children:[Object(p.jsxs)("div",{className:"flex items-center",children:[Object(p.jsx)("div",{className:c.a.PageHeading,children:Object(p.jsx)("span",{children:a})}),Object(p.jsx)(o.a,{content:s}),Object(p.jsx)(u.a,{isVisible:!!n&&!!r,text:n,addClasses:"text-2xs"})]}),t]})};t.a=function(){var t=Object(i.b)();return Object(p.jsx)(a.a,{initialValues:m,validationSchema:b,onSubmit:function(n,r){var a=r.resetForm,s=n.singleHash,i=n.identifier,c=n.address,o=e.from(d.utils.arrayify(i)),u=e.from(d.utils.arrayify(s));t.accuseArchaeologist(o,u,c,(function(e){var t=e.transactionHash;console.info("Accuse TX HASH",t),a()}))},children:function(e){var t=e.values,n=e.errors,r=e.touched,a=e.handleChange,i=e.handleSubmit;return Object(p.jsxs)("form",{onSubmit:i,className:"px-2 flex flex-wrap md:flex-nowrap justify-center",children:[Object(p.jsxs)("div",{className:"mr-4 mt-2 w-104 md:w-128",children:[Object(p.jsxs)("div",{className:c.a.PageHeading,children:[Object(p.jsx)("img",{alt:"",src:s.a,className:"mr-4"}),Object(p.jsx)("span",{children:"Eye of Horus"})]}),Object(p.jsxs)("div",{className:"mt-8 text-md text-white pr-8",style:{lineHeight:"1.4375rem"},children:[Object(p.jsx)("div",{children:"The Eye of Horus watches over your Sarcophagi and allows network participants to prove any wrongdoing by the archaeologist at any time."}),Object(p.jsx)("div",{className:"mt-4",children:"When a Sarcophagus is created, a hash for each layer is also created. The hash is used to prove the identity and integrity of the layers."}),Object(p.jsx)("div",{className:"mt-4",children:"The single hash remains hidden unless the Sarcophagus is unwrapped. This can happen during the resurrection time, or if the archaeologist unwraps before then."})]})]}),Object(p.jsxs)("div",{className:"mt-8 md:mt-16 flex flex-col gap-8",children:[Object(p.jsx)(h,{error:n.address,touched:r.address,title:"Archaeologist Address",tooltipContent:"Address of the archaeologist you are accusing",InputElement:Object(p.jsx)("input",{type:"text",className:"w-full mt-4 pl-4 text-md bg-black font-normal text-white remove-input-steps focus:outline-none border-gray-500",style:{height:"2.625rem"},value:t.address,onChange:a,name:"address",placeholder:"0x0000000000000000000000000000000000000000000000000000000000000000"})}),Object(p.jsx)(h,{error:n.singleHash,touched:r.singleHash,tooltipContent:"The Sarcophagus payload (file bytes) with the outer layer decrypted, hashed once",title:"Single Hash",InputElement:Object(p.jsx)("textarea",{className:"w-full mt-4 p-4 bg-black text-white text-md focus:outline-none border border-gray-500",style:{height:"7.75rem"},value:t.singleHash,onChange:a,name:"singleHash",placeholder:"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"})}),Object(p.jsx)(h,{error:n.identifier,touched:r.identifier,tooltipContent:"The Sarcophagus payload (file bytes) encrypted and hashed twice. This proves that the archaeologist uploaded the correct data to Arweave.",title:"Sarcophagus Identifier",InputElement:Object(p.jsx)("textarea",{className:"w-full mt-4 p-4 bg-black text-white text-md focus:outline-none border border-gray-500",style:{height:"7.75rem"},value:t.identifier,onChange:a,name:"identifier",placeholder:"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"})}),Object(p.jsx)(l.a,{addClasses:"mx-auto mb-4",width:"full",type:"submit",label:"Submit"})]})]})}})}}).call(this,n(20).Buffer)},423:function(e){e.exports=JSON.parse('{"name":"sarco-webapp","version":"0.1.0","private":true,"dependencies":{"@craco/craco":"^6.1.1","@testing-library/jest-dom":"^5.11.9","@testing-library/react":"^11.2.5","@testing-library/user-event":"^12.8.1","@tippyjs/react":"^4.2.3","@types/jest":"^27.0.1","@types/react":"^17.0.19","@types/react-dom":"^17.0.9","@types/react-router-dom":"^5.1.8","@walletconnect/web3-provider":"^1.3.6","arweave":"^1.10.11","authereum":"^0.1.14","classnames":"^2.2.6","ecies-geth":"^1.4.1","ethers":"^5.0.31","formik":"^2.2.6","numeral":"^2.0.6","react":"^17.0.1","react-datepicker":"^3.6.0","react-dom":"^17.0.1","react-dropzone":"^11.3.1","react-router-dom":"^5.2.0","react-scripts":"4.0.3","react-toastify":"^7.0.3","typescript":"^4.4.3","web-vitals":"^1.1.0","web3modal":"^1.9.3","yup":"^0.32.9"},"scripts":{"start":"REACT_APP_GIT_HASH=`git rev-parse --short HEAD` craco start","build":"REACT_APP_GIT_HASH=`git rev-parse --short HEAD` craco build","test":"craco test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"engines":{"node":"12.20.1"},"devDependencies":{"@tailwindcss/postcss7-compat":"^2.0.3","@types/numeral":"^2.0.1","@types/react-datepicker":"^4.1.6","autoprefixer":"^9.8.6","dotenv":"^8.2.0","postcss":"^7.0.35","tailwindcss":"npm:@tailwindcss/postcss7-compat@^2.0.3","truffle":"^5.1.65"},"homepage":"https://app.dev.sarcophagus.io"}')},434:function(e,t,n){},438:function(e,t){},445:function(e,t){},448:function(e,t){},46:function(e,t,n){"use strict";(function(e){n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return j})),n.d(t,"i",(function(){return v})),n.d(t,"h",(function(){return g}));var r=n(1),a=n.n(r),s=n(12),i=n(408),c=n.n(i),o=n(23),u=n(11),l=function(){return c.a.init({host:"arweave.net",port:443,protocol:"https",timeout:2e4,logging:!1})},d=function(){var t=Object(s.a)(a.a.mark((function t(n,r,s){var i,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&s){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,n.transactions.getData(r,{decode:!0});case 5:return i=t.sent,c=e.from(i),o=e.from(s),t.abrupt("return",0===e.compare(c,o));case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,n,r){return t.apply(this,arguments)}}(),p=function(e){return e.length>30?Object(o.m)(e,25,"...",18):e},b=function(e){switch(e){case u.a.Active:return"Rewrap";case u.a.Signing:return"Signing needed";case u.a.Unwrapped:return"Resurrect";case u.a.WindowClosed:case u.a.PublicKeyUsed:case u.a.Error:case u.a.ArweaveMiningError:return"Details";default:return""}},m=function(e){var t;return"0x"!==(null===e||void 0===e?void 0:e.substr(0,2))&&(t="0x"+e),t||e},h=function(e){return e<10?"0".concat(e):e},f=function(e){var t=e-Date.parse((new Date).toString()),n=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24),s=Math.floor(t/864e5);return"".concat(s," days ").concat(h(a),":").concat(h(r),":").concat(h(n))},j=function(e){if(!e)return"00/00/0000 0:00:00 AM";var t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString()},v=function(e){return new Date(e)},g=function(e,t){return 1e3*((Object(o.l)(e,0).value()||0)+(Object(o.l)(t,0).value()||0))-Date.now().valueOf()<=0}}).call(this,n(20).Buffer)},489:function(e,t){},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var r,a=n(3),s=n(104),i=n(0),c=Object(a.createContext)(s.b),o=(r=c,function(e){var t=e.children,n=Object(s.c)();return Object(i.jsx)(r.Provider,{value:n,children:t})}),u=function(){return Object(a.useContext)(c)}},491:function(e,t){},514:function(e,t){},516:function(e,t){},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}));var r,a=n(16),s=n(1),i=n.n(s),c=n(12),o=n(44),u=n(3),l=n(23),d=n(394),p=n(407),b=n(192),m=n(0),h=function(){(r=Object(u.createContext)(void 0)).displayName="Data Provider";var e=r.Provider;return function(t){var n=t.children,r=Object(p.a)(),s=r.allEmbalmerSarcophagi,u=r.isEmbalmerSarcophagiLoaded,h=r.loadEmbalmerSarcophagi,f=Object(b.a)(),j=f.allRecipientSarcophagi,v=f.isRecipientSarcophagiLoaded,g=f.loadRecipientSarcophagi,x=Object(d.a)(),y=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return e.next=4,g();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=Object(a.a)(Object(a.a)({},x),{},{embalmerSarcophagi:s.filter((function(e){return 1===e.state})),recipientSarcophagi:j.filter((function(e){return Object(l.b)(e.resurrectionTime,e.resurrectionWindow,e.privateKey,e.state).isVisible})),archivedSarcophagi:function(e,t){if(!e.length&&!t.length)return[];var n=function(e){return 2===e.state},r=e.filter(n),a=t.filter(n);return Array.from([].concat(Object(o.a)(r),Object(o.a)(a)).reduce((function(e,t){return t&&t.AssetDoubleHash&&e.set(t.AssetDoubleHash,t)}),new Map).values())}(s,j),isSarcophagiLoaded:u&&v,loadRecipientSarcophagi:g,loadEmbalmerSarcophagi:h,loadSarcophagi:y});return Object(m.jsx)(e,{value:O,children:n})}}(),f=function(){return Object(u.useContext)(r)}},528:function(e,t){},529:function(e,t){},54:function(e,t,n){"use strict";var r=n(142),a=n.p+"static/media/question.d848fe1b.svg",s=n(0);t.a=function(e){var t=e.content;return e.hideTooltip?null:Object(s.jsx)(r.a,{content:t,className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900",children:Object(s.jsx)("img",{src:a,alt:"tooltip"})})}},547:function(e,t){},549:function(e,t){},63:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.PageHeading="flex items-center text-white whitespace-pre-wrap md:whitespace-nowrap mr-2 text-md font-bold"}(r||(r={}))},69:function(e,t,n){"use strict";var r=n(60),a=n.n(r),s=n(0);t.a=function(e){var t=e.isVisible,n=e.text,r=e.addClasses;return t?Object(s.jsx)("div",{className:a()("text-sm text-red",r),children:n}):null}},71:function(e,t,n){"use strict";var r,a=n(16),s=n(39),i=n(62),c=n(60),o=n.n(c),u=n(0),l=["label","isDisabled","addClasses","height","width"];!function(e){e.Base="leading-medium text-md font-medium flex justify-center items-center focus:outline-none transform hover:text-offWhite active:scale-90",e.Active="text-white border border-white",e.Height="h-button-medium",e.Width="w-button-default",e.Disabled="text-gray-400 border border-500 cursor-default"}(r||(r={}));var d=function(e){var t,n=e.label,c=e.isDisabled,d=e.addClasses,p=e.height,b=e.width,m=Object(i.a)(e,l);return Object(u.jsx)("button",Object(a.a)(Object(a.a)({disabled:c,className:o()(r.Base,(t={},Object(s.a)(t,r.Active,!c),Object(s.a)(t,r.Disabled,c),Object(s.a)(t,r.Height,!p),Object(s.a)(t,r.Width,!b),Object(s.a)(t,"w-button-".concat(b),!!b),Object(s.a)(t,"h-button-".concat(p),!!p),t),d)},m),{},{children:n}))};d.defaultProps={isDisabled:!1},t.a=d},77:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.TombIndex="border-t border-gray-500 md:border-none mt-8 md:mt-0 pt-8 md:pt-0 w-full overflow-x-scroll hide-scrollbar max-w-128",e.Body="border border-gray-500 p-4 mx-4 mb-8 mt-0 overflow-x-scroll hide-scrollbar",e.StatusBadge="ml-3 mt-1 py-1 px-2 text-gray-900 text-2xs rounded self-end text-center",e.FeesForm="flex flex-col md:flex-row gap-4 justify-center md:justify-start w-full bg-gray-600 py-8 md:px-8 border border-gray-500 overflow-x-scroll hide-scrollbar mt-8",e.DropZone="cursor-pointer focus:outline-none flex flex-col justify-center items-center text-white text-md border-2 border-dashed border-gray-500 mb-8",e.TombNavigation="flex items-center justify-center lg:justify-between flex-wrap md:flex-nowrap gap-4"}(r||(r={}))},828:function(e,t,n){"use strict";n.r(t);var r,a=n(3),s=n.n(a),i=n(103),c=n.n(i),o=(n(434),n(65)),u=n(47),l=n(77);!function(e){e.Tomb="/tomb",e.Create="/create"}(r||(r={}));var d,p=n.p+"static/media/tomb.a63833ca.svg",b=n(63),m=n(52),h=n.p+"static/media/logo.46d0239c.png",f=n(0),j=function(){return Object(f.jsxs)("div",{className:"flex flex-col items-center justify-center my-8 gap-4",children:[Object(f.jsx)("img",{alt:"",src:h,className:"animate-pulse w-20"}),Object(f.jsx)("div",{children:"Loading..."})]})},v=n(14),g=n(83),x=n(11),y=n(16),O=n(39),w=n(62),S=n(60),T=n.n(S),N=n(46),k=n.p+"static/media/arrowRight.9e2056b3.svg",C=n.p+"static/media/arrowDown.7f49e23e.svg",A=n(142),P=n.p+"static/media/error.bd7ee411.svg";!function(e){e.Red="bg-red",e.Gray="bg-gray-300",e.Yellow="bg-yellow",e.Green="bg-green",e.White="bg-white"}(d||(d={}));var E,M=function(e){var t=e.status,n=e.isActive,r=e.isArchived;switch(t){case x.a.Buried:return Object(f.jsx)("div",{children:"Buried"});case x.a.Canceled:return Object(f.jsx)("div",{children:"Canceled"});case x.a.Cleaned:return Object(f.jsx)("div",{children:"Cleaned"});case x.a.Accused:return Object(f.jsx)("div",{children:"Accused"});case x.a.ArchivedUnwrapped:return Object(f.jsx)("div",{children:"Unwrapped"});case x.a.Archived:return Object(f.jsx)("div",{children:"Archived"});case x.a.ArweaveMining:case x.a.ArweaveUploading:return Object(f.jsx)("div",{children:"Arweave"});case x.a.Mining:return Object(f.jsx)("div",{children:"Mining"});case x.a.Created:case x.a.Default:return Object(f.jsx)("div",{children:"Pending"});case x.a.Unwrapping:return Object(f.jsx)("div",{children:"Unwrapping"});case x.a.Unwrapped:return Object(f.jsx)("div",{children:"Unwrapped"});case x.a.Active:return Object(f.jsx)("div",{children:"Active"});case x.a.Signing:return Object(f.jsx)("div",{children:"Signing"});case x.a.WindowClosed:case x.a.Error:case x.a.PublicKeyUsed:case x.a.ArweaveMiningError:return Object(f.jsxs)("div",{className:"flex items-center",children:[Object(f.jsx)("img",{alt:"",src:P,className:"mr-2"}),Object(f.jsx)("div",{children:"Error"})]});default:return r?Object(f.jsx)("div",{children:"Archived"}):n?Object(f.jsx)("div",{children:"Active"}):Object(f.jsx)("div",{children:"Pending"})}},D=function(e){var t,n=e.status,r=e.isActive,a=void 0!==r&&r,s=e.isArchived,i=void 0!==s&&s;return Object(f.jsx)(A.a,{content:n,className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900",children:Object(f.jsx)("div",{className:T()(l.a.StatusBadge,(t={},Object(O.a)(t,d.Yellow,!a&&!i&&n!==x.a.Unwrapped&&n!==x.a.PublicKeyUsed&&n!==x.a.Error&&n!==x.a.ArweaveMiningError),Object(O.a)(t,d.Green,a),Object(O.a)(t,d.Gray,i&&n!==x.a.Unwrapped),Object(O.a)(t,d.White,n===x.a.Unwrapped),Object(O.a)(t,d.Red,n===x.a.Error||n===x.a.PublicKeyUsed||n===x.a.ArweaveMiningError),t)),style:{minWidth:"4.5rem"},children:Object(f.jsx)(M,{status:n,isActive:a,isArchived:i})})})},F=function(e){var t=e.sarcophagus,n=e.status,r=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(x.c.Calculating),r=Object(v.a)(n,2),s=r[0],i=r[1],c=Object(a.useState)(e.resurrectionTime),o=Object(v.a)(c,2),u=o[0],l=o[1],d=Object(a.useState)(e.resurrectionWindow),p=Object(v.a)(d,2),b=p[0],m=p[1],h=Object(a.useState)(""),f=Object(v.a)(h,2),j=f[0],g=f[1],y=2!==e.state&&e.resurrectionTime?u.toNumber():0,O=2!==e.state&&e.resurrectionWindow?b.toNumber():0,w=1e3*(y+O),S=w-Date.now().valueOf()<=0,T=w-Date.now().valueOf()<=0,k=Object(a.useCallback)((function(){t.current=setInterval((function(){var e=T?w:1e3*y,t=Object(N.e)(e);g(t)}),1e3)}),[w,T,y]),C=Object(a.useCallback)((function(){if(S)return i(x.c.Close),void clearInterval(t.current);i(T?x.c.Unwrapping:x.c.Active),k()}),[S,T,k]);return Object(a.useEffect)((function(){return l(e.resurrectionTime),m(e.resurrectionWindow),C(),function(){return clearInterval(t.current)}}),[C,e]),{timerStatus:s,currentTimeTillResurrection:j,refreshTimers:function(){i(x.c.Calculating),g(""),clearInterval(t.current)}}}(t),s=2===t.state;if(Object(a.useEffect)((function(){switch(n){case x.a.Mining:r.refreshTimers()}}),[r,n]),s||!t.resurrectionTime||n===x.a.Mining)return null;var i=function(e){switch(e){case x.c.Active:case x.c.Calculating:return"text-gray-400";case x.c.Unwrapping:return"text-yellow";case x.c.Off:return"";case x.c.Close:return"text-red"}}(r.timerStatus);return r.timerStatus===x.c.Off?null:Object(f.jsx)("div",{className:"text-sm ".concat(i),style:{lineHeight:"1.0625rem"},children:"Resurrection: ".concat(r.currentTimeTillResurrection)})},H=n(409),B=["sarcophagus","isExpandable","toggleExpansion","setStatus","isExpanded","status"];!function(e){e.Base="text-white text-md flex justify-between relative cursor-default max-w-128",e.Pointer="cursor-pointer",e.Wrapper="border border-gray-500 px-4 my-8 pt-3"}(E||(E={}));var R,I=function(e){return Object(f.jsx)(A.a,{content:e.sarcophagus.name,disabled:e.sarcophagus.name.length<30,children:Object(f.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:Object(N.c)(e.sarcophagus.name)})})},U=function(e){var t=e.isExpandable,n=e.isExpanded,r=e.status;if(!t||r===x.a.Mining)return null;var a=n?C:k,s=Object(N.d)(r);return Object(f.jsxs)("div",{className:"flex cursor-pointer",children:[Object(f.jsx)("img",{alt:"",src:a,className:"mr-2"}),Object(f.jsx)("span",{children:s})]})},K=function(e){var t=e.sarcophagus,n=e.isExpandable,r=e.toggleExpansion,a=e.setStatus,s=e.isExpanded,i=e.status,c=Object(w.a)(e,B);return Object(f.jsxs)("div",{className:E.Wrapper,children:[Object(f.jsxs)("div",{className:T()(E.Base,Object(O.a)({},E.Pointer,n)),onClick:n?r:function(){return null},style:{height:"4.375rem"},children:[Object(f.jsxs)("div",{className:"flex flex-col",children:[Object(f.jsx)(I,{sarcophagus:t}),Object(f.jsx)(F,{sarcophagus:t,status:i})]}),Object(f.jsxs)("div",{className:"flex flex-col items-end",children:[Object(f.jsx)(U,{isExpandable:n,isExpanded:s,status:i}),Object(f.jsx)(D,{status:i,isActive:i===x.a.Active,isArchived:2===t.state})]})]}),Object(f.jsx)(H.a,Object(y.a)({status:i,isExpanded:s,sarcophagus:t,setStatus:a,toggleExpansion:r},c))]})},W=function(e){var t=e.sarcophagus,n=function(e){var t=Object(g.b)(),n=Object(a.useState)(x.a.Default),r=Object(v.a)(n,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){if(t.archaeologistsWithStats.length)for(var n=0;n<=t.archaeologistsWithStats.length-1;n++){var r,a,s,c;if(null===(r=t.archaeologistsWithStats[n].accusedIdentifiers)||void 0===r?void 0:r.includes(e.AssetDoubleHash)){i(x.a.Accused);break}if(null===(a=t.archaeologistsWithStats[n].canceledIdentifiers)||void 0===a?void 0:a.includes(e.AssetDoubleHash)){i(x.a.Canceled);break}if(null===(s=t.archaeologistsWithStats[n].cleanupIdentifiers)||void 0===s?void 0:s.includes(e.AssetDoubleHash)){i(x.a.Cleaned);break}if(null===(c=t.archaeologistsWithStats[n].successesIdentifiers)||void 0===c?void 0:c.includes(e.AssetDoubleHash)){i(x.a.ArchivedUnwrapped);break}i(x.a.Buried)}}),[e,t]),{sarcophagusStatus:s}}(t).sarcophagusStatus;return Object(f.jsx)(K,{status:n,setStatus:function(){return null},toggleExpansion:function(){return null},sarcophagus:t,isExpandable:!1,isExpanded:!1})},V=function(){var e=Object(m.b)();return e.isSarcophagiLoaded?Object(f.jsx)("div",{children:e.archivedSarcophagi.map((function(e,t){return Object(f.jsx)(W,{sarcophagus:e},e.name+t)}))}):Object(f.jsx)(j,{})},L=n(49),q=n(104),z=n(1),J=n.n(z),Z=n(12),G=n(22),_=n(420),X=function(e){var t=Object(a.useState)(x.a.Default),n=Object(v.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(!1),c=Object(v.a)(i,2),o=c[0],u=c[1],l=Object(m.b)(),d=l.createdSarcophagusData,p=l.setCreatedSarcophagusData,b=Object(m.b)(),h=Object(_.a)(d,p,e,s).sendStatus;Object(a.useEffect)((function(){return r===x.a.ArweaveMining?window.addEventListener("beforeunload",f):window.removeEventListener("beforeunload",f),function(){return window.removeEventListener("beforeunload",f)}}),[r]);var f=function(e){var t="Leaving before Sarcophagus update is signed, will result in loss of sarcophagus";return G.b.error(t,{autoClose:2e3,position:"top-center"}),e.preventDefault(),e.returnValue=t,t};return{sarcophagusStatus:r,updateStatus:function(e){s(e)},checkStatus:function(){var t=Object(Z.a)(J.a.mark((function t(){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=r,t.next=t.t0===x.a.Mining||t.t0===x.a.Signing||t.t0===x.a.WindowClosed||t.t0===x.a.Error?3:t.t0===x.a.Active?4:t.t0===x.a.ArweaveMining||t.t0===x.a.ArweaveUploading?9:26;break;case 3:return t.abrupt("return");case 4:if(Object(N.h)(e.resurrectionTime,e.resurrectionWindow)&&s(x.a.WindowClosed),!(1e3*e.resurrectionTime.toNumber()-Date.now().valueOf()<=0)){t.next=8;break}return n=setTimeout((function(){b.loadSarcophagi()}),5e3),t.abrupt("return",(function(){return clearTimeout(n)}));case 8:return t.abrupt("return");case 9:t.t1=h,t.next=t.t1===x.b.Sending?12:t.t1===x.b.Success?13:t.t1===x.b.Mining?16:t.t1===x.b.Failed?21:25;break;case 12:return t.abrupt("return");case 13:return G.b.dismiss("fileMining"),s(x.a.Signing),t.abrupt("return");case 16:if(r!==x.a.ArweaveMining){t.next=18;break}return t.abrupt("return");case 18:return s(x.a.ArweaveMining),G.b.dark(x.a.ArweaveMining,{toastId:"fileMining",autoClose:!1}),t.abrupt("return");case 21:return G.b.dismiss("fileMining"),s(x.a.ArweaveMiningError),u(!0),t.abrupt("return");case 25:return t.abrupt("return");case 26:if(!o){t.next=28;break}return t.abrupt("return");case 28:if(!(null===e||void 0===e?void 0:e.assetId)||"0x0000000000000000000000000000000000000000000000000000000000000000"!==(null===e||void 0===e?void 0:e.privateKey)){t.next=31;break}return s(x.a.Active),t.abrupt("return");case 31:r===x.a.Default&&(s(x.a.Error),u(!0));case 32:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}},Y=function(e){var t=e.sarcophagus,n=X(t),r=n.sarcophagusStatus,s=n.updateStatus,i=n.checkStatus,c=Object(a.useState)(!1),o=Object(v.a)(c,2),u=o[0],l=o[1];return i(),Object(f.jsx)(K,{status:r,setStatus:s,toggleExpansion:function(){return l((function(e){return!e}))},sarcophagus:t,isExpandable:!!Object(N.d)(r),isExpanded:u})},Q=function(e){var t=e.sarcophagus;return Object(f.jsx)(K,{status:x.a.Mining,setStatus:function(){return null},toggleExpansion:function(){return null},sarcophagus:t,isExpandable:!1,isExpanded:!1})},$=function(){var e=Object(m.b)(),t=Object(L.b)().account,n=Object(u.g)(),a=!!t&&!e.embalmerSarcophagi.length&&!e.pendingSarcophagi.length;return e.isSarcophagiLoaded?t?a?Object(f.jsx)("div",{className:"border border-gray-500 hover:border-white text-white text-md flex justify-center items-center cursor-pointer max-w-128",onClick:function(){return n.push(r.Create)},style:{height:"4.375rem"},children:"Create a Sarcophagus"}):Object(f.jsxs)("div",{children:[e.pendingSarcophagi.map((function(e,t){return Object(f.jsx)(Q,{sarcophagus:e},e.name+t)})),e.embalmerSarcophagi.map((function(e,t){return Object(f.jsx)(Y,{sarcophagus:e},e.name+t)}))]}):Object(f.jsx)("div",{className:"border border-gray-500 hover:border-white text-white text-md flex justify-center items-center cursor-pointer max-w-128",onClick:q.a,style:{height:"4.375rem"},children:"Connect to a wallet to get started"}):Object(f.jsx)(j,{})},ee=n(35),te=function(e){var t=Object(a.useState)(x.a.Default),n=Object(v.a)(t,2),r=n[0],s=n[1];return Object(a.useEffect)((function(){var t=function(e,t,n,r){var a=e.add(t),s=2===r&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==n,i=1===r&&a.gte(ee.a.from(Number(Date.now().valueOf()/1e3).toFixed(0)));return{isUnwrapped:s,isActive:i,isVisible:s||i}}(e.resurrectionTime,e.resurrectionWindow,e.privateKey,e.state),n=t.isUnwrapped,r=t.isActive;if(n)s(x.a.Unwrapped);else if(r){var a=(null===e||void 0===e?void 0:e.assetId)?x.a.Active:x.a.Created;s(a)}else 2===e.state?s(x.a.Archived):s(x.a.Error)}),[e]),{sarcophagusStatus:r}},ne=function(e){var t=e.sarcophagus,n=te(t).sarcophagusStatus,r=Object(a.useState)(!1),s=Object(v.a)(r,2),i=s[0],c=s[1];return Object(f.jsx)(K,{status:n,setStatus:function(){return null},toggleExpansion:function(){return c((function(e){return!e}))},sarcophagus:t,isExpandable:n===x.a.Unwrapped,isExpanded:i})},re=function(){var e=Object(m.b)();return e.isSarcophagiLoaded?Object(f.jsx)("div",{children:e.recipientSarcophagi.map((function(e,t){return Object(f.jsx)(ne,{sarcophagus:e},e.name+t)}))}):Object(f.jsx)(j,{})},ae=n(54),se=function(){var e=Object(m.b)(),t=Object(u.i)();return Object(f.jsxs)("div",{className:l.a.TombNavigation,children:[Object(f.jsxs)(o.b,{activeClassName:"border-b-2 border-white",className:"px-2 pb-4 cursor-pointer whitespace-nowrap flex justify-center items-center flex-shrink-0",to:"".concat(t.path),exact:!0,children:[Object(f.jsxs)("div",{className:b.a.PageHeading,children:["Sarcophagi (",e.embalmerSarcophagi.length,")"]}),Object(f.jsx)(ae.a,{content:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Active sarcophagi"}),Object(f.jsx)("div",{children:"View current status and resurrected time"})]})})]}),Object(f.jsxs)(o.b,{activeClassName:"border-b-2 border-white",className:"px-2 pb-4 cursor-pointer whitespace-nowrap flex justify-center items-center flex-shrink-0",to:"".concat(t.path,"/resurrect"),children:[Object(f.jsxs)("div",{className:b.a.PageHeading,children:["Resurrect: (",e.recipientSarcophagi.length,")"]}),Object(f.jsx)(ae.a,{content:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Received Sarcophagi"}),Object(f.jsx)("div",{children:"View received Sarcophagi details"})]})})]}),Object(f.jsxs)(o.b,{activeClassName:"border-b-2 border-white",className:"px-2 pb-4 cursor-pointer whitespace-nowrap flex justify-center items-center flex-shrink-0",to:"".concat(t.path,"/archive"),children:[Object(f.jsxs)("div",{className:b.a.PageHeading,children:["Archived: (",e.archivedSarcophagi.length,")"]}),Object(f.jsx)(ae.a,{content:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Inactive sarcophagi"}),Object(f.jsx)("div",{children:"View past Sarcophagi"})]})})]})]})},ie=function(){var e=Object(u.i)();return Object(f.jsxs)("div",{className:l.a.TombIndex,children:[Object(f.jsx)(se,{}),Object(f.jsxs)("div",{className:"mt-8",children:[Object(f.jsx)(u.b,{path:"".concat(e.path),exact:!0,children:Object(f.jsx)($,{})}),Object(f.jsx)(u.b,{path:"".concat(e.path,"/resurrect"),children:Object(f.jsx)(re,{})}),Object(f.jsx)(u.b,{path:"".concat(e.path,"/archive"),children:Object(f.jsx)(V,{})})]})]})};!function(e){e.TombWrapper="pt-8 px-8 flex justify-center md:justify-between flex-wrap md:flex-nowrap gap-3 md:gap-0"}(R||(R={}));var ce=function(){return Object(f.jsxs)("div",{className:R.TombWrapper,children:[Object(f.jsxs)("div",{className:"mr-4 w-104",children:[Object(f.jsxs)("div",{className:b.a.PageHeading,children:[Object(f.jsx)("img",{src:p,alt:"",className:"mr-4"}),Object(f.jsx)("span",{children:"Tomb"})]}),Object(f.jsxs)("div",{className:"mt-8 text-md text-white",style:{lineHeight:"1.4375rem"},children:[Object(f.jsx)("div",{children:"This is where you manage your Sarcophagi. View the ones you created or received, including any canceled, buried, or errored out"}),Object(f.jsxs)("div",{className:"mt-4",children:["For more information on alert statuses and different states of your Sarcophagi,",Object(f.jsx)("a",{target:"_blank",rel:"noreferrer noopener",className:"cursor-pointer text-gray-300 hover:text-white ml-2 underline",href:"https://github.com/sarcophagus-org/sarcophagus-app/blob/develop/README.md",children:"see here"})]})]})]}),Object(f.jsx)(ie,{})]})},oe=n(94),ue=n(70),le=n(34),de={recipientPublicKey:"",name:"",resurrectionTime:"",bounty:100,diggingFee:10,fileUploaded:!1,address:"",daysDisplayed:0,custom:!1,customTime:"",timeSelect:null},pe=le.d().shape({recipientPublicKey:le.e().test("required","Recipient Address is required",(function(e){return!!e})).test("validDataHextString","Please enter a valid public key",(function(e){var t,n;return"0x04"!==(null===e||void 0===e||null===(t=e.substr)||void 0===t?void 0:t.call(e,0,4))&&(n="0x04"+e),ue.utils.isHexString(n||e,65)})),name:le.e().required("Name is required"),resurrectionTime:le.c().required("Resurrection time is required"),bounty:le.c(),diggingFee:le.c(),customTime:le.c().when("custom",{is:!0,then:le.c().required("Resurrection time is required")}),custom:le.a(),fileUploaded:le.b().test("required","Please upload a file",(function(e){return!!e})).test("filesize","Files must not be larger than 2.9MB",(function(e){return!e||e.size<=29e5})),address:le.e().required("Please select an archaeologist")}).nullable(),be=n(198),me=n(143),he=n(23),fe=function(){var e=Object(a.useState)(null),t=Object(v.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),i=Object(v.a)(s,2),c=i[0],o=i[1],u=Object(a.useState)(null),l=Object(v.a)(u,2),d=l[0],p=l[1],b=Object(a.useState)(null),m=Object(v.a)(b,2),h=m[0],f=m[1],j=Object(a.useState)(""),g=Object(v.a)(j,2),x=g[0],y=g[1],O=Object(a.useState)(null),w=Object(v.a)(O,2),S=w[0],T=w[1],N=Object(a.useState)(null),k=Object(v.a)(N,2),C=k[0],A=k[1],P=Object(a.useCallback)(Object(Z.a)(J.a.mark((function e(){var t,n,r,a,s,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"0x04"!==(null===c||void 0===c?void 0:c.substr(0,4))&&(t="0x04"+c),n=t||(c||""),r=Object(he.j)(n,!0).slice(1),e.next=6,Object(me.encrypt)(r,d);case 6:a=e.sent,f(a),s=ue.utils.keccak256(a),i=ue.utils.keccak256(s),A(ue.utils.arrayify(i)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),[c,d]),E=Object(a.useCallback)(Object(Z.a)(J.a.mark((function e(){var t,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(he.j)(x,!0),e.next=4,Object(me.encrypt)(t,h);case 4:n=e.sent,T(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[h,x]);return Object(a.useEffect)((function(){if(n)try{var e=new FileReader;e.readAsArrayBuffer(n),e.onload=function(e){var t,n=null===(t=e.target)||void 0===t?void 0:t.result;n&&p(n)}}catch(t){console.error(t)}}),[n]),Object(a.useEffect)((function(){d&&c&&P()}),[d,c,P]),Object(a.useEffect)((function(){h&&x&&E()}),[h,x,E]),{file:n,setFile:r,setRecipientPublicKey:o,setArchaeologistAddress:y,doubleEncryptedFile:S,assetDoubleHash:C}},je=n.p+"static/media/sarcophagus.305a5839.svg",ve=["transition","addClasses","children"],ge=function(e){var t=e.transition,n=e.addClasses,r=e.children,a=Object(w.a)(e,ve);return Object(f.jsx)("div",Object(y.a)(Object(y.a)({className:T()("py-12 pr-2 relative border-b border-gray-500",{"ease-in-transition":t},n)},a),{},{children:r}))};ge.defaultProps={transition:!0};var xe,ye=ge,Oe=function(){return Object(f.jsxs)(ye,{transition:!1,children:[Object(f.jsxs)("div",{className:"flex items-center mb-6 whitespace-nowrap",children:[Object(f.jsx)("img",{src:je,alt:"",className:"mr-4"}),Object(f.jsx)("span",{className:"text-lg",children:"Create Sarcophagus"})]}),Object(f.jsx)("div",{className:"text-md font-normal",children:"This is where you create a Sarcophagus, a process we call \u201cembalming.\u201d Name your Sarcophagus, paste the full public key of the recipient and upload the file you wish to embalm."})]})},we=n.p+"static/media/name.b9f8dcfc.svg",Se=n(69),Te=function(e){var t=e.values,n=e.touched,r=e.errors,a=e.handleChange,s=e.handleBlur,i=e.handleKey,c=e.toggle;return Object(f.jsxs)(ye,{children:[Object(f.jsxs)("div",{className:"flex justify-between cursor-pointer",onClick:c,children:[Object(f.jsxs)("div",{className:"flex items-center text-white whitespace-pre-wrap md:whitespace-nowrap mr-2",children:[Object(f.jsx)("img",{src:we,alt:"",className:"mr-4"}),Object(f.jsx)("span",{className:"text-md font-bold",children:"Name Sarcophagus and add recipient"})]}),Object(f.jsx)("img",{alt:"",src:C})]}),Object(f.jsxs)("div",{className:"md:grid md:grid-cols-2 mt-8 md:gap-6",children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"flex items-center mb-2",children:[Object(f.jsx)("div",{className:"flex items-center",children:Object(f.jsx)("span",{className:"mr-2 text-gray-400 text-sm whitespace-nowrap",style:{lineHeight:"1.375rem"},children:"Title"})}),Object(f.jsx)(Se.a,{isVisible:!!r.name&&!!n.name,text:r.name,addClasses:"text-2xs"})]}),Object(f.jsx)("input",{className:"w-full pl-4 text-md bg-black font-normal text-white remove-input-steps focus:outline-none border border-gray-500",type:"text",style:{height:"2.625rem"},placeholder:"",name:"name",value:t.name,onChange:a,onBlur:s,maxLength:256})]}),Object(f.jsx)("div",{className:"text-gray-400 text-2xs",style:{marginTop:"1.75rem"},children:"The name you choose will be public on the blockchain."})]}),Object(f.jsxs)("div",{className:"md:grid md:grid-cols-2 mt-8 md:gap-6",children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"flex items-center mb-2",children:[Object(f.jsx)("div",{className:"flex items-center",children:Object(f.jsx)("span",{className:"mr-2 text-gray-400 text-sm whitespace-nowrap",style:{lineHeight:"1.375rem"},children:"Recipient"})}),Object(f.jsx)(Se.a,{isVisible:!!r.recipientPublicKey&&!!n.recipientPublicKey,text:r.recipientPublicKey,addClasses:"text-2xs"})]}),Object(f.jsx)("textarea",{className:"w-full p-4 bg-black text-white text-md focus:outline-none border border-gray-500",style:{height:"7.75rem"},name:"recipientPublicKey",value:t.recipientPublicKey,onBlur:s,onChange:function(e){a(e),i(e.target.value)},placeholder:"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"})]}),Object(f.jsxs)("div",{className:"text-gray-400 text-2xs",style:{marginTop:"1.75rem"},children:[Object(f.jsx)("div",{className:"border-b border-gray-400 mb-4",style:{width:"fit-content"},children:"Eth public key"}),Object(f.jsxs)("div",{className:"text-gray-400 leading-5",children:[Object(f.jsx)(o.b,{className:"cursor-pointer mr-2 underline hover:text-gray-300 text-white",to:"/publicKey",children:"Click here"}),"to get your recipient\u2019s full Ethereum public key. (This is not the same as a public address.) When resurrecting the Sarcophagus, the recipient will need to input the private key of their Ethereum public key. They can generate a fresh Ethereum public key if concerned with private key exposure."]})]})]})]})},Ne=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(a.useState)(e),r=Object(v.a)(n,2),s=r[0],i=r[1],c=Object(a.useState)(t),o=Object(v.a)(c,2),u=o[0],l=o[1],d=function(){u&&i((function(e){return!e}))},p=function(){s&&!u&&(i(!1),l(!0))};return{collapsed:s,toggle:d,open:p}},ke=function(e){var t=Ne(!1,!0),n=t.collapsed,r=t.toggle;return n?Object(f.jsx)(ye,{transition:!1,addClasses:"cursor-pointer",onClick:r,children:Object(f.jsxs)("div",{className:"flex justify-between",children:[Object(f.jsxs)("div",{className:"flex items-center text-white whitespace-pre-wrap md:whitespace-nowrap mr-2",children:[Object(f.jsx)("img",{src:we,alt:"",className:"mr-4"}),Object(f.jsx)("span",{className:"text-md font-bold",children:"Name Sarcophagus and add recipient"})]}),Object(f.jsx)("img",{className:"",alt:"",src:k})]})}):Object(f.jsx)(Te,Object(y.a)({toggle:r},e))},Ce=n.p+"static/media/upload.54df37e0.svg",Ae=n(268),Pe=function(e){var t=e.handleFile,n=e.file;return n?Object(f.jsx)(Ae.a,{onDrop:function(e){return t(e[0])},children:function(e){var t=e.getRootProps,r=e.getInputProps;return Object(f.jsxs)("div",Object(y.a)(Object(y.a)({},t()),{},{className:l.a.DropZone,style:{height:"10.625rem"},children:[Object(f.jsx)("input",Object(y.a)(Object(y.a)({},r()),{},{multiple:!1})),Object(f.jsxs)("div",{className:"flex flex-col justify-around items-center text-white overflow-hidden gap-4",children:[Object(f.jsxs)("span",{children:[n.name," uploaded successfully!"]}),Object(f.jsx)("div",{className:"underline",children:"Upload a different file"})]})]}))}}):Object(f.jsx)(Ae.a,{onDrop:function(e){return t(e[0])},children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(f.jsxs)("div",Object(y.a)(Object(y.a)({},t()),{},{className:l.a.DropZone,style:{height:"10.625rem"},children:[Object(f.jsx)("input",Object(y.a)(Object(y.a)({},n()),{},{multiple:!1})),Object(f.jsx)("img",{src:Ce,alt:"",className:"mb-2"}),Object(f.jsx)("span",{children:"Drag and drop"}),Object(f.jsx)("span",{children:"or"}),Object(f.jsx)("span",{className:"border-b",children:"browse files"})]}))}})},Ee=function(e){var t=e.handleFile,n=e.file,r=e.setFieldValue,s=e.errors,i=e.handleBlur,c=e.touched,o=e.toggle;return Object(a.useEffect)((function(){n&&r("fileUploaded",n)}),[n,r]),Object(f.jsxs)(ye,{children:[Object(f.jsxs)("div",{className:"flex justify-between",children:[Object(f.jsxs)("div",{className:"flex items-center text-white whitespace-pre-wrap md:whitespace-nowrap mr-2",children:[Object(f.jsx)("img",{src:Ce,alt:"",className:"mr-4"}),Object(f.jsx)("span",{className:"text-md font-bold",children:"Upload your file to your sarcophagus"})]}),Object(f.jsx)("img",{alt:"",src:C,onClick:o})]}),Object(f.jsxs)("div",{className:"mt-8",children:[Object(f.jsxs)("div",{className:"flex items-center",children:[Object(f.jsx)("div",{className:"flex items-center",children:Object(f.jsx)("span",{className:"mr-2 text-gray-400 text-sm whitespace-nowrap",style:{lineHeight:"1.375rem"},children:"Attach File"})}),Object(f.jsx)(Se.a,{isVisible:!!s.fileUploaded&&!!c.fileUploaded,text:s.fileUploaded})]}),Object(f.jsxs)("div",{className:"md:grid md:grid-cols-2 mt-8 md:gap-6",children:[Object(f.jsx)(Pe,{handleFile:t,file:n,handleBlur:i}),Object(f.jsxs)("div",{className:"text-gray-400 text-2xs -mt-1",children:[Object(f.jsx)("div",{className:"leading-5",children:"Upload a file to embalm. It will be downloaded after resurrection exactly as is."}),Object(f.jsx)("div",{className:"leading-5 my-4",children:"Current alpha max file size: 2.9 MB"})]})]})]})]})},Me=["values","errors"],De=function(e){var t=e.values,n=e.errors,r=Object(w.a)(e,Me),s=Ne(),i=s.collapsed,c=s.toggle,o=s.open;return Object(a.useEffect)((function(){t.name&&t.recipientPublicKey&&(n.name||n.recipientPublicKey||o())}),[o,n,t]),i?Object(f.jsx)(ye,{transition:!1,addClasses:"cursor-pointer",onClick:c,children:Object(f.jsxs)("div",{className:"flex justify-between",children:[Object(f.jsxs)("div",{className:"flex items-center text-white whitespace-pre-wrap md:whitespace-nowrap mr-2",children:[Object(f.jsx)("img",{src:Ce,alt:"",className:"mr-4"}),Object(f.jsx)("span",{className:"text-md font-bold",children:"Upload your file to your sarcophagus"})]}),Object(f.jsx)("img",{className:"",alt:"",src:k})]})}):Object(f.jsx)(Ee,Object(y.a)({values:t,toggle:c,errors:n},r))},Fe=n.p+"static/media/clock.f0a78ec3.svg",He=n(205),Be=["values","errors"],Re=function(e){var t=e.values,n=e.errors,r=Object(w.a)(e,Be),s=Ne(),i=s.collapsed,c=s.toggle,o=s.open;return Object(a.useEffect)((function(){t.fileUploaded&&(n.fileUploaded||o())}),[o,n,t]),i?Object(f.jsx)(ye,{transition:!1,addClasses:"cursor-pointer",onClick:c,children:Object(f.jsxs)("div",{className:"flex justify-between",children:[Object(f.jsxs)("div",{className:"flex items-center text-white whitespace-pre-wrap md:whitespace-nowrap mr-2",children:[Object(f.jsx)("img",{src:Fe,alt:"",className:"mr-4"}),Object(f.jsx)("span",{className:"text-md font-bold",children:"Set resurrection time"})]}),Object(f.jsx)("img",{className:"",alt:"",src:k})]})}):Object(f.jsxs)(ye,{addClasses:"cursor-pointer",children:[Object(f.jsxs)("div",{className:"flex justify-between",children:[Object(f.jsxs)("div",{className:"flex items-center text-white whitespace-pre-wrap md:whitespace-nowrap mr-2 mb-8",children:[Object(f.jsx)("img",{src:Fe,alt:"",className:"mr-4"}),Object(f.jsx)("span",{className:"text-md font-bold",children:"Set resurrection time"})]}),Object(f.jsx)("img",{alt:"",src:C,onClick:c})]}),Object(f.jsxs)("div",{className:"md:grid md:grid-cols-2 mt-8 md:gap-6",children:[Object(f.jsx)(He.a,Object(y.a)({values:t,errors:n},r)),Object(f.jsxs)("div",{className:"text-gray-400 text-2xs",children:[Object(f.jsx)("div",{className:"pb-4 leading-5",children:"The resurrection is the exact date and time that the outer layer of your Sarcophagus will be decrypted by the archaeologist."}),Object(f.jsx)("div",{className:"pb-4 leading-5",children:"If you don\u2019t attest before this time; only the inner layer controlled by the recipient is protecting the data."}),Object(f.jsx)("div",{className:"pb-4 leading-5",children:"The further you set the resurrection time, the more it will cost."})]})]})]})},Ie=n.p+"static/media/pickaxe.c916382b.svg",Ue=n(197),Ke=n(28),We=function(e){var t=e.label;return Object(f.jsx)("span",{className:"text-gray-400 mr-2",children:t})},Ve=function(e){var t=e.value,n=e.selected;return Object(f.jsxs)("span",{className:n?T()("text-black"):T()("text-white"),children:[" ",t]})},Le=function(e){var t=e.archaeologist,n=e.file,r=e.isSelected;return e.open?Object(f.jsxs)("div",{className:"border-t border-gray-500 py-4 px-8 w-full",children:[Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)("span",{className:"text-gray-400 mr-2",children:"Arch "}),Object(f.jsx)("span",{children:t.address})]}),Object(f.jsxs)("div",{className:"flex mb-4",children:[Object(f.jsx)("span",{className:"text-gray-400 mr-2",children:"Endpoint "}),Object(f.jsx)("span",{children:t.endpoint})]}),Object(f.jsxs)("div",{className:"grid grid-cols-2 text-sm gap-4",children:[Object(f.jsxs)("div",{className:"",children:[Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(We,{label:"Accused Sarcophagi"}),Object(f.jsx)(Ve,{selected:r,value:Object(he.h)(t.accusedCount,0,!0)})]}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(We,{label:"Cleaned Sarcophagi"}),Object(f.jsx)(Ve,{selected:r,value:Object(he.h)(t.cleanupCount,0,!0)})]}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(We,{label:"Canceled Sarcophagi"}),Object(f.jsx)(Ve,{selected:r,value:Object(he.h)(t.canceledCount,0,!0)})]}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(We,{label:"Successful Sarcophagi"}),Object(f.jsx)(Ve,{selected:r,value:Object(he.h)(t.successesCount,0,!0)})]}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(We,{label:"Percent Cursed:"}),Object(f.jsx)(Ve,{selected:r,value:"".concat(Object(he.d)(null===t||void 0===t?void 0:t.cursedBond,null===t||void 0===t?void 0:t.freeBond))})]}),Object(f.jsxs)("div",{className:"flex whitespace-nowrap",children:[Object(f.jsx)(We,{label:"Max Resurrection Time:"}),Object(f.jsx)(Ve,{selected:r,value:Object(he.f)(null===t||void 0===t?void 0:t.maximumResurrectionTime)})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(We,{label:"Min Digging Fee:"}),Object(f.jsx)(Ve,{selected:r,value:Object(he.h)(null===t||void 0===t?void 0:t.minimumDiggingFee,18)})]}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(We,{label:"Min Bounty:"}),Object(f.jsx)(Ve,{selected:r,value:Object(he.h)(null===t||void 0===t?void 0:t.minimumBounty,18)})]}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(We,{label:"Fee per byte:"}),Object(f.jsx)(Ve,{selected:r,value:Object(he.h)(null===t||void 0===t?void 0:t.feePerByte,18)})]}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(We,{label:"Total Storage Fee"}),Object(f.jsx)(Ve,{selected:r,value:Object(he.i)(t,n)})]}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(We,{label:"Total Fees"}),Object(f.jsx)(Ve,{selected:r,value:Object(he.a)(t,n)})]})]})]})]}):null},qe=n.p+"static/media/iconBlack.2abba048.svg",ze=n.p+"static/media/icon.081a5d9a.svg",Je=n.p+"static/media/arrowRightBlack.e7140ec6.svg",Ze=n.p+"static/media/arrowDownBlack.b7343f82.svg";!function(e){e.Default="border border-gray-500 text-white bg-gray-600 cursor-pointer",e.Selected="border border-white text-black bg-white cursor-pointer",e.Disabled="border border-gray-500 text-gray-500 cursor-default"}(xe||(xe={}));var Ge=function(e){var t=e.archaeologist,n=e.file,r=e.setFieldValue,a=e.handleSelected,s=e.values,i=Ne(!0,!0),c=i.collapsed,o=i.toggle,u=s.address===t.address,l=Object(he.a)(t,n).toString(),d=t.minimumBounty.lte(Ke.a.utils.parseEther(s.bounty.toString())),p=t.minimumDiggingFee.lte(Ke.a.utils.parseEther(s.diggingFee.toString())),b=Object(he.k)(t.maximumResurrectionTime.toNumber(),Number(s.resurrectionTime)),m=!d||!p||!b,h=t.freeBond.gte(Ke.a.utils.parseEther(l));return(null===t||void 0===t?void 0:t.isOnline)&&h?Object(f.jsxs)("div",{className:T()("flex flex-col",Object(O.a)({},xe.Default,!u&&!m),Object(O.a)({},xe.Selected,u),Object(O.a)({},xe.Disabled,m),{"order-12":m},{"order-0":!m}),onClick:function(){if(u)return r("bounty","1"),r("diggingFee",6),void r("address","");m||(r("bounty",Object(he.h)(t.minimumBounty,18)),r("diggingFee",Object(he.h)(t.minimumDiggingFee,18)),r("address",t.address),a(t,l))},children:[Object(f.jsxs)("div",{className:"flex flex-grow arch-table-row",children:[Object(f.jsx)("div",{className:"flex items-center",children:Object(he.m)(t.address,18)}),Object(f.jsxs)("div",{className:"flex items-center",children:[Object(f.jsx)("img",{src:s.address===t.address?qe:ze,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(he.a)(t,n)]}),Object(f.jsxs)("div",{className:"flex items-center",children:[Object(f.jsx)("img",{src:s.address===t.address?qe:ze,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(he.g)(null===t||void 0===t?void 0:t.minimumBounty,18)]}),Object(f.jsxs)("div",{className:"flex items-center",children:[Object(f.jsx)("img",{src:s.address===t.address?qe:ze,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(he.g)(null===t||void 0===t?void 0:t.minimumDiggingFee,18)]}),Object(f.jsxs)("div",{className:"flex items-center",onClick:function(e){e.stopPropagation(),o()},children:[u&&c&&Object(f.jsx)("img",{alt:"",src:Je,className:"mr-2"}),u&&!c&&Object(f.jsx)("img",{alt:"",src:Ze,className:"mr-2"}),!u&&c&&Object(f.jsx)("img",{alt:"",src:k,className:"mr-2"}),!u&&!c&&Object(f.jsx)("img",{alt:"",src:C,className:"mr-2"}),Object(f.jsx)("u",{children:"Metrics"})]})]}),Object(f.jsx)(Le,{archaeologist:t,file:n,isSelected:u,open:!c})]}):null},_e=function(e){var t=e.page,n=e.totalPages,r=e.handleNextPage,a=e.handlePrevPage,s=e.pageNumbers,i=e.goToPage;return Object(f.jsx)("div",{className:"flex w-full justify-end pt-4 px-4",children:Object(f.jsxs)("div",{className:"text-md",style:{lineHeight:"1.325rem"},children:[Object(f.jsx)("button",{type:"button",onClick:function(){return a()},className:0===t?"text-gray-500 focus:outline-none cursor-default":"text-white focus:outline-none",children:"<"}),s.map((function(e){return Object(f.jsx)("button",{type:"button",disabled:0===n,onClick:function(){return i(e)},className:t===e?"px-2 text-white focus:outline-none text-lg font-bold cursor-default":"px-2 text-white focus:outline-none",children:e+1},e)})),Object(f.jsx)("button",{type:"button",onClick:function(){return r()},className:t===n?"text-gray-500 focus:outline-none cursor-default":"text-white focus:outline-none",children:">"})]})})},Xe=function(e){var t=Object(a.useState)(0),n=Object(v.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(0),c=Object(v.a)(i,2),o=c[0],u=c[1],l=Object(a.useState)([]),d=Object(v.a)(l,2),p=d[0],b=d[1];Object(a.useEffect)((function(){u(Math.round(e/5))}),[e]),Object(a.useEffect)((function(){for(var e=[],t=0;t<=o-1;t++)e.push(t);b(e)}),[o]);return{page:r,perPage:5,totalPages:o,handlePrevPage:function(){0!==r&&s((function(e){return e-1}))},handleNextPage:function(){r>=o||s((function(e){return e+1}))},pageNumbers:p,goToPage:function(e){s(e)}}},Ye=["errors","touched"],Qe=function(e){return Object(f.jsxs)("div",{className:"flex text-md pl-1.5",children:[Object(f.jsx)("div",{className:"mr-2",children:e.title}),Object(f.jsx)(ae.a,{content:e.tooltipContent,hideTooltip:!e.tooltipContent})]})},$e=function(e){var t=e.errors,n=e.touched,r=Object(w.a)(e,Ye),a=Object(g.b)(),s=Xe(a.archaeologistsWithStats.length);if(!a.archaeologistsWithStats.length)return null;var i;return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"hide-scrollbar overflow-x-scroll w-full whitespace-nowrap",children:[Object(f.jsx)(Se.a,{isVisible:!!t.address&&!!n.address,text:t.address}),Object(f.jsx)("div",{className:"flex arch-table-row",children:(i=a.archaeologistsWithStats,[{title:"Archaeologists (".concat(i.length,")"),tooltipContent:""},{title:"Fee",tooltipContent:"Total fee in $SARCO to create this sarcophagus."},{title:"Bounty",tooltipContent:"This Archaeologists minimum bounty requirement."},{title:"Digging Fee",tooltipContent:"This Archaeologists minimum digging fee for your resurrection date/time."},{title:"Metrics",tooltipContent:""}]).map((function(e){return Object(f.jsx)(Qe,Object(y.a)({},e),e.title)}))}),Object(f.jsxs)("div",{className:"flex flex-col",children:[a.archaeologistsWithStats.filter((function(e,t){return t>=s.page*s.perPage&&t<=(s.page+1)*s.perPage-1})).map((function(e,a){return Object(f.jsx)(Ge,Object(y.a)({touched:n,errors:t,archaeologist:e},r),e.address+a.toString())})),a.archaeologistsWithStats.length>=5&&Object(f.jsx)(_e,Object(y.a)({},s))]})]})})},et=["values","errors"],tt=function(e){var t=e.values,n=e.errors,r=Object(w.a)(e,et),s=Ne(),i=s.collapsed,c=s.toggle,o=s.open;return Object(a.useEffect)((function(){t.resurrectionTime&&(n.resurrectionTime||o())}),[o,n,t]),i?Object(f.jsx)(ye,{transition:!1,addClasses:"cursor-pointer",onClick:c,children:Object(f.jsxs)("div",{className:"flex justify-between",children:[Object(f.jsxs)("div",{className:"flex items-center text-white whitespace-pre-wrap md:whitespace-nowrap mr-2",children:[Object(f.jsx)("img",{src:Ie,alt:"",className:"mr-4"}),Object(f.jsx)("span",{className:"text-md font-bold",children:"Pick an Archaeologist"})]}),Object(f.jsx)("img",{className:"",alt:"",src:k})]})}):Object(f.jsxs)(ye,{children:[Object(f.jsxs)("div",{className:"flex justify-between",children:[Object(f.jsxs)("div",{className:"flex items-center text-white whitespace-pre-wrap md:whitespace-nowrap mr-2",children:[Object(f.jsx)("img",{src:Ie,alt:"",className:"mr-4"}),Object(f.jsx)("span",{className:"text-md font-bold",children:"Pick an Archaeologist"})]}),Object(f.jsx)("img",{className:"",alt:"",src:k,onClick:c})]}),Object(f.jsx)(Ue.a,Object(y.a)({values:t,errors:n,isDescriptionShown:!0},r)),Object(f.jsx)($e,Object(y.a)({values:t,errors:n},r))]})},nt=n(71),rt=function(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),i=Object(v.a)(s,2),c=i[0],o=i[1],l=Object(a.useState)(null),d=Object(v.a)(l,2),p=d[0],b=d[1],h=Object(u.g)(),j=fe(),x=j.file,y=j.setFile,O=j.setRecipientPublicKey,w=j.setArchaeologistAddress,S=j.doubleEncryptedFile,T=j.assetDoubleHash,N=Object(m.b)(),k=Object(g.b)(),C=Object(L.b)().account,A=Object(be.a)(),P=A.approved,E=A.approveTransaction,M=function(e,t){o(t),b(e),w(null===e||void 0===e?void 0:e.currentPublicKey)},D=function(){N.loadSarcophagi(),k.loadArchaeologists()},F=function(){h.push("/tomb")},H=function(){var e=Object(Z.a)(J.a.mark((function e(t){var n,r,a,s,i,o,u,l,d,b,m;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p&&c&&T&&S){e.next=3;break}return console.error("\ud83d\ude80 ~ Create values not found"),e.abrupt("return");case 3:try{n=t.bounty,r=t.diggingFee,a=t.recipientPublicKey,s=t.resurrectionTime,i=t.name,o=ee.a.from(Number(s)/1e3),u=ue.utils.parseEther(r.toString()),l=ue.utils.parseEther(n.toString()),d=ue.utils.parseEther(c.toString()),"0x04"!==a.substr(0,4)&&(b="0x04"+a),m=ue.utils.arrayify(b||a).slice(1),N.createSarcophagus(i,p,o,d,u,l,T,m,S,D,F)}catch(h){console.error(h)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){O(e)};Object(a.useEffect)((function(){r(P?"Finish":"Approve")}),[P]);return C?Object(f.jsx)(oe.a,{initialValues:de,validationSchema:pe,onSubmit:H,validateOnMount:!0,children:function(e){var t=e.values,r=e.errors,a=e.touched,s=e.handleBlur,i=e.handleChange,c=e.handleSubmit,o=e.setFieldValue,u=e.isValid;return Object(f.jsxs)("form",{className:"ml-8 px-14",onSubmit:c,children:[Object(f.jsx)(Oe,{}),Object(f.jsx)(ke,{values:t,errors:r,touched:a,handleChange:i,handleKey:B,handleBlur:s}),Object(f.jsx)(De,{handleBlur:s,values:t,file:x,handleFile:y,errors:r,touched:a,setFieldValue:o}),Object(f.jsx)(Re,{values:t,errors:r,touched:a,handleBlur:s,handleChange:i,setFieldValue:o}),Object(f.jsx)(tt,{errors:r,touched:a,file:x,values:t,handleChange:i,handleSelected:M,archSelected:(null===p||void 0===p?void 0:p.address)||"",setFieldValue:o}),Object(f.jsx)(nt.a,{label:n,isDisabled:!u,addClasses:"my-8",height:"large",type:P?"submit":"button",onClick:P?function(){return null}:function(){!function(e){Object.keys(e).length||E()}(r)}})]})}}):Object(f.jsx)("div",{className:"border border-gray-500 hover:border-white text-white text-md flex justify-center items-center cursor-pointer max-w-128 mx-auto",onClick:q.a,style:{height:"4.375rem"},children:"Connect to a wallet to get started"})},at=n.p+"static/media/copy.f58289cd.svg",st=function(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],r=t[1],s=Object(L.b)(),i=s.account,c=s.signerOrProvider,o=function(){var e=Object(Z.a)(J.a.mark((function e(){var t,n,a,s,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=c,"Hello from the Sarcophagus! Sign this message to retrieve your account's public key",n=ue.utils.hashMessage("Hello from the Sarcophagus! Sign this message to retrieve your account's public key"),a=ue.utils.arrayify(n),e.next=9,null===t||void 0===t?void 0:t.signMessage("Hello from the Sarcophagus! Sign this message to retrieve your account's public key");case 9:s=e.sent,i=ue.utils.recoverPublicKey(a,s),r(i),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),4001===e.t0.code?console.error("We can encrypt anything without the key."):console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"p-4 flex gap-4 flex-wrap md:flex-nowrap justify-center md:justify-start",children:[Object(f.jsxs)("div",{className:"mr-4 mt-2 text-md w-104 md:w-128 leading-8",children:[Object(f.jsx)("div",{className:"font-bold",children:"To receive and decrypt a Sarcophagus after resurrection, the embalmer needs your public key."}),Object(f.jsxs)("div",{className:"mt-4",children:[Object(f.jsx)("div",{className:"mt-2",children:"1. Log in with the account that will receive Sarcophagus"}),Object(f.jsx)("div",{className:"mt-2",children:"2. Click below to retrieve your public key"}),Object(f.jsx)("div",{className:"mt-2",children:"2. Give your public key to the embalmer"})]}),Object(f.jsx)(nt.a,{isDisabled:!i,addClasses:"mt-12",type:"button",onClick:o,label:"Get Public Key"})]}),Object(f.jsx)("div",{className:"flex flex-col items-center mt-2 relative",children:n&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"absolute right-1",onClick:function(){navigator.clipboard.writeText(n),G.b.dark("Copied to clipboard",{autoClose:2e3})},children:Object(f.jsx)("img",{src:at,alt:"",className:"w-5"})}),Object(f.jsx)("div",{className:b.a.PageHeading,children:Object(f.jsx)("span",{children:"Your Public Key"})}),Object(f.jsx)("div",{className:"border-t-2 border-b-2 border-gray-300 py-8 mt-4",children:Object(f.jsxs)("div",{className:"bg-black w-104 break-words text-md p-4",children:[" ",n," "]})})]})})]})},it=n.p+"static/media/Resurrection.a7cc7e5a.svg",ct=n(196),ot=n(192),ut=function(e){var t=e.sarcophagus,n=e.recipientPrivateKey,r=te(t).sarcophagusStatus,s=Object(a.useState)(!1),i=Object(v.a)(s,2),c=i[0],o=i[1];return Object(f.jsx)(K,{status:r,setStatus:function(){return null},toggleExpansion:function(){return o((function(e){return!e}))},sarcophagus:t,isExpandable:r===x.a.Unwrapped,isExpanded:c,recipientPrivateKey:n})},lt=function(e){if(!e)return le.d().shape({recipientPrivateKey:le.e().test("required","Recipient Private Key is required",(function(e){return!!e})).test("validDataHextString","Please enter a valid private key",(function(e){var t,n;return"0x"!==(null===e||void 0===e||null===(t=e.substr)||void 0===t?void 0:t.call(e,0,2))&&(n="0x"+e),ue.utils.isHexString(n||e,32)}))})},dt=function(e){var t=e.handleQuery,n=e.initialValues;return Object(f.jsx)(oe.a,{initialValues:n,validationSchema:lt,onSubmit:function(e){return t(e)},children:function(e){var t=e.values,n=e.errors,r=e.handleChange,a=e.handleSubmit;return Object(f.jsxs)("form",{onSubmit:a,className:"px-2 w-128",children:[Object(f.jsx)(ct.a,{values:t,errors:n,handleChange:r,isVisible:!0}),Object(f.jsx)(nt.a,{addClasses:"mb-4",width:"full",type:"submit",label:"Submit"})]})}})},pt=function(){var e=new URLSearchParams(Object(u.h)().search),t=Object(a.useState)(""),n=Object(v.a)(t,2),r=n[0],s=n[1],i=r?ue.utils.computeAddress(function(e){var t;return"0x"!==(null===e||void 0===e?void 0:e.substr(0,2))&&(t="0x"+e),t||e}(r)):"",c=Object(ot.a)(i,!0),o=c.allRecipientSarcophagi,l=c.isRecipientSarcophagiLoaded,d={recipientPrivateKey:e.get("recipientPrivateKey")||""};return Object(f.jsxs)("div",{className:"pt-8 px-8 flex justify-center md:justify-between flex-wrap md:flex-nowrap gap-4 md:gap-8",children:[Object(f.jsxs)("div",{style:{width:"34rem"},children:[Object(f.jsxs)("div",{className:b.a.PageHeading,children:[Object(f.jsx)("img",{src:it,alt:"",className:"mr-4"}),Object(f.jsx)("span",{children:"Resurrection"})]}),Object(f.jsx)("div",{className:"text-md font-normal pl-2 pt-8 pb-4 leading-6",children:"If the embalmer does not attest to their Sarcophagus, this is where the receiver will type in the private key to decrypt the inner layer and gain access to the file."}),Object(f.jsx)(dt,{handleQuery:function(e){s(e.recipientPrivateKey)},initialValues:d})]}),Object(f.jsx)("div",{className:"",style:{width:"34rem"},children:!l&&r?Object(f.jsx)(j,{}):null===o||void 0===o?void 0:o.map((function(e,t){return Object(f.jsx)(ut,{sarcophagus:e,recipientPrivateKey:r},e.archaeologist+t.toString())}))})]})},bt=n(422),mt=function(){return Object(f.jsxs)("div",{className:l.a.Body,style:{minHeight:"calc(100vh - 16rem)"},children:[Object(f.jsx)(u.b,{path:"/",exact:!0,children:Object(f.jsx)(u.a,{to:"/tomb"})}),Object(f.jsx)(u.b,{path:r.Tomb,component:ce}),Object(f.jsx)(u.b,{path:"/create",component:rt,exact:!0}),Object(f.jsx)(u.b,{path:"/resurrection",component:pt,exact:!0}),Object(f.jsx)(u.b,{path:"/horus",component:bt.a,exact:!0}),Object(f.jsx)(u.b,{path:"/publicKey",component:st,exact:!0})]})},ht=n(423),ft=function(){return Object(f.jsx)("div",{className:"text-gray-400 text-xs my-4",children:Object(f.jsx)("div",{className:"pb-6 text-center",children:Object(f.jsxs)("div",{children:["v",ht.version+"+bc10e74"]})})})},jt=n.p+"static/media/wallet.7d4fae45.svg",vt=function(){var e=Object(L.b)().account;return e?Object(f.jsxs)("div",{className:"flex justify-center items-center ml-2 text-gray-300",children:[Object(he.m)(e,19,"...",7),Object(f.jsx)("img",{src:ze,alt:"",className:"ml-4 w-4 h-4"})]}):Object(f.jsx)("button",{className:"underline text-center ml-3",onClick:function(){return Object(q.a)()},children:"Connect Web3 Account"})},gt=n(203),xt=["title","dest","icon"],yt=function(e){var t=e.title,n=e.dest,r=e.icon,a=Object(w.a)(e,xt);return Object(f.jsxs)(o.b,Object(y.a)(Object(y.a)({to:n,className:"text-md flex items-center justify-center hover:text-white pb-2",activeClassName:"border-b md:border-b-2 border-white text-white"},a),{},{children:[Object(f.jsx)("img",{alt:"",src:r,className:"mr-2 w-5 h-5"}),Object(f.jsx)("span",{className:"",children:t})]}))},Ot=function(){return Object(f.jsxs)("ul",{className:"flex whitespace-nowrap items-center justify-evenly gap-8",children:[Object(f.jsx)("li",{className:"",children:Object(f.jsx)(yt,{dest:"/tomb",title:"Tomb",icon:p})}),Object(f.jsx)("li",{className:"",children:Object(f.jsx)(yt,{dest:"/create",title:"Create Sarcophagus",icon:je})}),Object(f.jsx)("li",{className:"",children:Object(f.jsx)(yt,{dest:"/resurrection",title:"Resurrection",icon:it})}),Object(f.jsx)("li",{className:"",children:Object(f.jsx)(yt,{dest:"/horus",title:"Eye of Horus",icon:gt.a})})]})},wt=function(){return Object(f.jsxs)("div",{className:"flex justify-between my-12 text-sm text-gray-300 ",style:{height:"4rem"},children:[Object(f.jsxs)("div",{className:"flex items-center",children:[Object(f.jsx)("div",{className:"mr-8",children:Object(f.jsx)(o.b,{to:"/tomb",children:Object(f.jsx)("img",{src:h,alt:"logo",className:"w-20"})})}),Object(f.jsx)(Ot,{})]}),Object(f.jsxs)("div",{className:"flex items-center pb-1",children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:jt,alt:"wallet",className:""})}),Object(f.jsx)(vt,{})]})]})},St=function(){return Object(f.jsx)("div",{className:"container relative",children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(wt,{}),Object(f.jsx)(u.d,{children:Object(f.jsx)(mt,{})}),Object(f.jsx)(ft,{})]})})},Tt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,846)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),s(e),i(e)}))},Nt=n(84);c.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(L.a,{children:Object(f.jsx)(Nt.a,{children:Object(f.jsx)(m.a,{children:Object(f.jsxs)(g.a,{children:[Object(f.jsx)(St,{}),Object(f.jsx)(G.a,{closeButton:!0,position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})})})}),document.getElementById("root")),Tt()},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return j}));var r=n(3),a=n(84),s=n(16),i=n(1),c=n.n(i),o=n(12),u=n(14),l=n(35);function d(e,t){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(c.a.mark((function e(t,n){var r,a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.timeout,a=new AbortController,i=setTimeout((function(){return a.abort()}),r),e.next=5,fetch(t,Object(s.a)(Object(s.a)({},n),{},{signal:a.signal}));case 5:return o=e.sent,clearTimeout(i),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b,m=function(e,t){var n=Object(r.useState)([]),a=Object(u.a)(n,2),i=a[0],l=a[1],d=Object(r.useCallback)(function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistCleanupsCount(n);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),p=Object(r.useCallback)(function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistCancelsCount(n);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),b=Object(r.useCallback)(function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistAccusalsCount(n);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),m=Object(r.useCallback)(function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistSuccessesCount(n);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),h=Object(r.useCallback)(function(){var t=Object(o.a)(c.a.mark((function t(n,r){var a,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Array(r.toNumber()).fill(void 0),s=function(){var t=Object(o.a)(c.a.mark((function t(r,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistCleanupsIdentifier(n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),t.next=4,Promise.all(a.map(s));case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[e]),f=Object(r.useCallback)(function(){var t=Object(o.a)(c.a.mark((function t(n,r){var a,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Array(r.toNumber()).fill(void 0),s=function(){var t=Object(o.a)(c.a.mark((function t(r,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistCancelsIdentifier(n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),t.next=4,Promise.all(a.map(s));case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[e]),j=Object(r.useCallback)(function(){var t=Object(o.a)(c.a.mark((function t(n,r){var a,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Array(r.toNumber()).fill(void 0),s=function(){var t=Object(o.a)(c.a.mark((function t(r,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistAccusalsIdentifier(n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),t.next=4,Promise.all(a.map(s));case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[e]),v=Object(r.useCallback)(function(){var t=Object(o.a)(c.a.mark((function t(n,r){var a,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Array(r.toNumber()).fill(void 0),s=function(){var t=Object(o.a)(c.a.mark((function t(r,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistSuccessesIdentifier(n,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),t.next=4,Promise.all(a.map(s));case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[e]),g=Object(r.useCallback)(Object(o.a)(c.a.mark((function e(){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a,i,o,u,l,g,x;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t.address);case 2:return n=e.sent,e.next=5,p(t.address);case 5:return r=e.sent,e.next=8,b(t.address);case 8:return a=e.sent,e.next=11,m(t.address);case 11:return i=e.sent,e.next=14,h(t.address,n);case 14:return o=e.sent,e.next=17,f(t.address,r);case 17:return u=e.sent,e.next=20,j(t.address,a);case 20:return l=e.sent,e.next=23,v(t.address,i);case 23:return g=e.sent,x=Object(s.a)(Object(s.a)({},t),{},{cleanupCount:n,canceledCount:r,accusedCount:a,successesCount:i,cleanupIdentifiers:o,canceledIdentifiers:u,accusedIdentifiers:l,successesIdentifiers:g}),e.abrupt("return",x);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=3,Promise.all(t.filter((function(e){return e.isOnline})).map(n));case 3:r=e.sent,l(r);case 5:case"end":return e.stop()}}),e)}))),[t,d,p,b,m,h,f,j,v]);return Object(r.useEffect)((function(){g()}),[g]),{archaeologistsWithStats:i,loadArchaeologistsStats:g}},h=n(0),f=function(){(b=Object(r.createContext)(void 0)).displayName="Data Provider";var e=b.Provider;return function(t){var n=t.children,i=Object(a.b)().sarcophagusContract,p=function(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],i=n[1],d=Object(r.useCallback)(Object(o.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",l.a.from(0));case 2:return t.next=4,e.archaeologistCount();case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),[e]),p=Object(r.useCallback)(function(){var t=Object(o.a)(c.a.mark((function t(n){var r,a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Array(n.toNumber()).fill(void 0),a=function(){var t=Object(o.a)(c.a.mark((function t(n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistAddresses(r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),t.next=4,Promise.all(r.map(a));case 4:return s=t.sent,t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),b=Object(r.useCallback)(function(){var t=Object(o.a)(c.a.mark((function t(n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=s.a,t.t1=s.a,t.t2={},t.next=5,e.archaeologists(n);case 5:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.t5={},t.t6={address:n},t.abrupt("return",(0,t.t0)(t.t4,t.t5,t.t6));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.next=3,Promise.all(n.map(r));case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),m=Object(r.useCallback)(Object(o.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d();case 3:if(!(t=e.sent).isZero()){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,p(t);case 8:return n=e.sent,e.next=11,b(n);case 11:r=e.sent,i(r),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Embalmer, Sarcophagus error:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),[d,b,p]);return Object(r.useEffect)((function(){m()}),[m]),{archaeologists:a,loadArchaeologists:m}}(i),b=p.archaeologists,f=p.loadArchaeologists,j=function(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],i=n[1],l=Object(r.useCallback)(Object(o.a)(c.a.mark((function t(){var n,r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.length){t.next=2;break}return t.abrupt("return");case 2:return n=function(e){return!e.freeBond.isZero()},r=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(t.endpoint+"/ping",{timeout:3e3});case 3:if(!e.sent.ok){e.next=8;break}return e.abrupt("return",Object(s.a)(Object(s.a)({},t),{},{isOnline:!0}));case 8:return e.abrupt("return",Object(s.a)(Object(s.a)({},t),{},{isOnline:!1}));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.warn("Archaeologist unavailable -","Address:",t.address,"Endpoint:",t.endpoint),e.abrupt("return",Object(s.a)(Object(s.a)({},t),{},{isOnline:!1}));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),t.next=6,Promise.all(e.filter(n).map(r));case 6:a=t.sent,i(a);case 8:case"end":return t.stop()}}),t)}))),[e]);return Object(r.useEffect)((function(){l()}),[l]),{filteredArchaeologists:a}}(b).filteredArchaeologists,v={archaeologistsWithStats:m(i,j).archaeologistsWithStats,archaeologists:b,filteredArchaeologists:j,loadArchaeologists:f};return Object(h.jsx)(e,{value:v,children:n})}}(),j=function(){return Object(r.useContext)(b)}},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var r,a=n(3),s=n(14),i=n(35),c=n(49),o=n(120),u=n(105),l=n(405),d=n(406),p=n(0),b=function(){(r=Object(a.createContext)(void 0)).displayName="Data Provider";var e=r.Provider;return function(t){var n=t.children,r=function(){var e=Object(c.b)(),t=e.chainId,n=e.signerOrProvider,r=Object(u.b)(t).moduleMap,i=Object(a.useState)(void 0),d=Object(s.a)(i,2),p=d[0],b=d[1];return Object(a.useEffect)((function(){if(t&&r&&n)try{var e=new o.b(r,l,n);b(e)}catch(a){console.error("sarco contract error",a)}}),[t,n,r]),p}(),b=function(e){var t=Object(c.b)().signerOrProvider,n=Object(a.useState)(void 0),r=Object(s.a)(n,2),i=r[0],u=r[1];return Object(a.useEffect)((function(){e&&t&&e.sarcoToken().then((function(e){try{var n=new o.b(e,d,t);u(n)}catch(r){console.error("sarco token contract error",r)}})).catch(console.error)}),[e,t]),i}(r),m=function(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.b)().provider;return Object(a.useEffect)((function(){if(i){i.getBlockNumber().then((function(e){r(e)})).catch(console.error);var e=function(e){r(e)};return i.on("block",e),function(){i.removeListener("block",e)}}}),[i]),n}(),h=function(e,t){var n=Object(c.b)().account,r=Object(a.useState)(i.a.from(0)),o=Object(s.a)(r,2),u=o[0],l=o[1];return Object(a.useEffect)((function(){n&&e&&t&&t.allowance(n,null===e||void 0===e?void 0:e.address).then((function(e){l(e)})).catch(console.error)}),[n,e,t]),u}(r,b),f=function(e,t){var n=Object(c.b)().account,r=Object(a.useState)(i.a.from(0)),o=Object(s.a)(r,2),u=o[0],l=o[1];return Object(a.useEffect)((function(){n&&e&&e.balanceOf(n).then((function(e){l(e)})).catch(console.error)}),[n,e,t]),u}(b,m),j={sarcophagusContract:r,sarcophagusTokenContract:b,allowance:h,balance:f};return Object(p.jsx)(e,{value:j,children:n})}}(),m=function(){return Object(a.useContext)(r)}},92:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Custom=0]="Custom",e[e.Month=1]="Month",e[e.ThreeMonths=2]="ThreeMonths",e[e.Week=3]="Week"}(r||(r={}))}},[[828,1,2]]]);
//# sourceMappingURL=main.164ad844.chunk.js.map